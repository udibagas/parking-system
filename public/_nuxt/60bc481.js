(window.webpackJsonp=window.webpackJsonp||[]).push([[7,16],{558:function(t,e,n){"use strict";n.r(e);n(39),n(31),n(38),n(14),n(51),n(30),n(52);var r=n(19),o=n(69);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c={props:["show"],computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.b)(["printerList"])),data:function(){return{printer_id:null}},mounted:function(){this.$store.dispatch("getPrinterList")}},m=c,d=n(46),component=Object(d.a)(m,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{center:"",title:"PILIH PRINTER",visible:t.show,width:"500px","before-close":function(e){t.$emit("close")}},on:{"update:visible":function(e){t.show=e}}},[e("el-form",[e("el-form-item",[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Pilih Printer"},model:{value:t.printer_id,callback:function(e){t.printer_id=e},expression:"printer_id"}},t._l(t.printerList,(function(p){return e("el-option",{key:p.id,attrs:{value:p.id,label:p.nama}})})),1)],1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{icon:"el-icon-error"},on:{click:function(e){return t.$emit("close")}}},[t._v("\n\t\t\tBATAL\n\t\t")]),t._v(" "),e("el-button",{attrs:{icon:"el-icon-printer",type:"primary",disabled:!t.printer_id},on:{click:function(e){return t.$emit("print",t.printer_id)}}},[t._v("\n\t\t\tCETAK STRUK\n\t\t")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},707:function(t,e,n){"use strict";n.r(e);n(123),n(53),n(14),n(30),n(339);var r={data:function(){return{date:this.$moment().format("YYYY-MM-DD"),report:[],loading:!1,showPrintDialog:!1}},methods:{requestData:function(){var t=this,e={date:this.date};this.loading=!0,this.$axios.$get("/api/memberRenewal/reportDaily",{params:e}).then((function(e){return t.report=e})).finally((function(){return t.loading=!1}))},printReport:function(t){var e=this,n={date:this.date,action:"print",printer_id:t};this.loading=!0,this.$axios.$get("/api/memberRenewal/reportDaily",{params:n}).then((function(t){e.$message({message:"Silakan ambil slip",type:"success",showClose:!1})})).finally((function(){e.loading=!1,e.showPrintDialog=!1}))},getSummaries:function(param){var t=this,e=param.columns,n=(param.data,[]);return e.forEach((function(e,r){if(0!==r)if(1!==r&&2!==r&&3!==r){if(4===r){var o=t.report.reduce((function(t,e){return t+Number(e.jumlah)}),0);n[r]="Rp "+t.$decimal(o)}}else n[r]="";else n[r]="TOTAL"})),n}},mounted:function(){this.requestData()}},o=n(46),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[e("el-form",{staticStyle:{"text-align":"right"},attrs:{inline:""}},[e("el-form-item",[e("el-date-picker",{attrs:{size:"small",format:"dd/MMM/yyyy","value-format":"yyyy-MM-dd",type:"date"},on:{change:t.requestData},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-printer"},on:{click:function(e){t.showPrintDialog=!0}}},[t._v("PRINT LAPORAN")])],1)],1),t._v(" "),e("el-table",{attrs:{"show-summary":"",stripe:"",data:t.report,"summary-method":t.getSummaries}},[e("el-table-column",{attrs:{label:"Tanggal","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(t.$moment(e.row.created_at).format("DD-MMM-YYYY HH:mm"))+"\n\t\t\t")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"member.nama",label:"Nama"}}),t._v(" "),e("el-table-column",{attrs:{prop:"member.nomor_kartu",label:"Nomor Kartu","header-align":"center",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"Plat Nomor","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.member.vehicles.map((function(t){return t.plate_number})).join(", "))+"\n\t\t\t")]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"Jumlah","header-align":"right",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\tRp. "+t._s(t.$decimal(e.row.jumlah))+"\n\t\t\t")]}}])})],1),t._v(" "),e("PrintDialog",{attrs:{show:t.showPrintDialog},on:{print:function(e){return t.printReport(e)},close:function(e){t.showPrintDialog=!1}}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PrintDialog:n(558).default})}}]);