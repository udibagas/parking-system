(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{412:function(e,t,n){"use strict";n.r(t);n(30);var o={data:function(){return{url:"",show:!0,checkedNodes:[],expandedNodes:[],props:{label:"label",isLeaf:"isFile"}}},methods:{loadNode:function(e,t){var n={directory:void 0===e.data?"snapshots":e.data.path};this.$axios.$get("/api/snapshot",{params:n}).then((function(e){return t(e)}))},deleteSnapshot:function(){var e=this;this.$confirm("Anda yakin?","Konfirmasi",{type:"warning"}).then((function(){e.$axios.$post("/api/snapshot/delete",{checkedNodes:e.checkedNodes}).then((function(t){e.url="",e.$message({message:t.message,type:"success"}),e.checkedNodes.forEach((function(t){return e.$refs.tree.remove(t)})),e.checkedNodes=[]})).catch((function(t){e.$message({message:t.response.data.message,type:"error"})}))})).catch((function(e){return console.log(e)}))},refresh:function(){var e=this;this.show=!1,this.$nextTick((function(){return e.show=!0}))}}},r=n(23),component=Object(r.a)(o,(function(){var e=this,t=this,n=t.$createElement,o=t._self._c||n;return o("el-card",[o("el-page-header",{attrs:{slot:"header",content:"SNAPSHOT"},on:{back:function(e){return t.$emit("back")}},slot:"header"}),t._v(" "),o("el-form",{staticClass:"text-right",attrs:{inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{staticClass:"mb-0"},[o("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",disabled:0==t.checkedNodes.length},on:{click:t.deleteSnapshot}},[t._v("HAPUS SNAPSHOT")])],1),t._v(" "),o("el-form-item",{staticClass:"mb-0"},[o("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",size:"small"},on:{click:t.refresh}})],1)],1),t._v(" "),o("div",{staticClass:"flex"},[o("div",{staticClass:"p-3 border",staticStyle:{width:"400px",height:"calc(100vh - 290px)",overflow:"auto"}},[t.show?o("el-tree",{ref:"tree",attrs:{props:t.props,load:t.loadNode,lazy:"","show-checkbox":"","highlight-current":"","node-key":"path"},on:{"node-click":function(t){var n=t.isFile,o=t.url;return e.url=n?o:""},check:function(e,n){return t.checkedNodes=n.checkedNodes}}}):t._e()],1),t._v(" "),o("div",{staticClass:"\n\t\t\t\tp-3\n\t\t\t\tflex-grow flex\n\t\t\t\talign-items-center\n\t\t\t\tjustify-content-center\n\t\t\t\tflex-column\n\t\t\t"},[o("img",{staticStyle:{"max-width":"800px"},attrs:{src:t.url,alt:""}})])])],1)}),[],!1,null,null,null);t.default=component.exports}}]);