(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{412:function(e,t,n){"use strict";n.r(t);n(30);var o={data:function(){return{url:"",show:!0,checkedNodes:[],expandedNodes:[],props:{label:"label",isLeaf:"isFile"}}},methods:{loadNode:function(e,t){var n={directory:void 0===e.data?"snapshots":e.data.path};this.$axios.$get("/api/snapshot",{params:n}).then((function(e){return t(e)}))},deleteSnapshot:function(){var e=this;this.$confirm("Anda yakin?","Konfirmasi",{type:"warning"}).then((function(){e.$axios.$post("/api/snapshot/delete",{checkedNodes:e.checkedNodes}).then((function(t){e.url="",e.$message({message:t.message,type:"success"}),e.checkedNodes.forEach((function(t){return e.$refs.tree.remove(t)})),e.checkedNodes=[]})).catch((function(t){e.$message({message:t.response.data.message,type:"error"})}))})).catch((function(e){return console.log(e)}))},refresh:function(){var e=this;this.show=!1,this.$nextTick((function(){return e.show=!0}))}}},r=n(23),component=Object(r.a)(o,(function(){var e=this,t=this,n=t.$createElement,o=t._self._c||n;return o("el-card",[o("el-row",{attrs:{slot:"header"},slot:"header"},[o("el-col",{attrs:{span:6}},[o("el-page-header",{attrs:{content:"SNAPSHOTS"},on:{back:function(e){return t.$emit("back")}}})],1),t._v(" "),o("el-col",{attrs:{span:18}},[o("el-form",{staticClass:"text-right",attrs:{inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{staticStyle:{"margin-bottom":"0"}},[o("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",disabled:0==t.checkedNodes.length},on:{click:t.deleteSnapshot}},[t._v("HAPUS SNAPSHOT")])],1),t._v(" "),o("el-form-item",{staticStyle:{"margin-bottom":"0"}},[o("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",size:"small"},on:{click:t.refresh}})],1)],1)],1)],1),t._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:8}},[o("div",{staticStyle:{width:"400px",height:"calc(100vh - 260px)",overflow:"auto",padding:"10px",border:"1px solid #ddd"}},[t.show?o("el-tree",{ref:"tree",attrs:{props:t.props,load:t.loadNode,lazy:"","show-checkbox":"","highlight-current":"","node-key":"path"},on:{"node-click":function(t){var n=t.isFile,o=t.url;return e.url=n?o:""},check:function(e,n){return t.checkedNodes=n.checkedNodes}}}):t._e()],1)]),t._v(" "),o("el-col",{attrs:{span:16}},[o("img",{staticStyle:{width:"100%"},attrs:{src:t.url,alt:""}})])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);