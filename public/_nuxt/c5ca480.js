(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{387:function(t,e,r){"use strict";var n=r(11),o=r(6),d=r(119),l=r(17),c=r(12),_=r(52),v=r(250),h=r(87),m=r(249),f=r(4),y=r(68),x=r(88).f,k=r(39).f,C=r(16).f,I=r(389).trim,R="Number",N=o.Number,A=N.prototype,w=_(y(A))==R,T=function(t){if(h(t))throw TypeError("Cannot convert a Symbol value to a number");var e,r,n,o,d,l,c,code,_=m(t,"number");if("string"==typeof _&&_.length>2)if(43===(e=(_=I(_)).charCodeAt(0))||45===e){if(88===(r=_.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(_.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+_}for(l=(d=_.slice(2)).length,c=0;c<l;c++)if((code=d.charCodeAt(c))<48||code>o)return NaN;return parseInt(d,n)}return+_};if(d(R,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var E,P=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof P&&(w?f((function(){A.valueOf.call(r)})):_(r)!=R)?v(new N(T(e)),r,P):T(e)},M=n?x(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;M.length>S;S++)c(N,E=M[S])&&!c(P,E)&&C(P,E,k(N,E));P.prototype=A,A.constructor=P,l(o,R,P)}},389:function(t,e,r){var n=r(20),o=r(8),d="["+r(390)+"]",l=RegExp("^"+d+d+"*"),c=RegExp(d+d+"*$"),_=function(t){return function(e){var r=o(n(e));return 1&t&&(r=r.replace(l,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:_(1),end:_(2),trim:_(3)}},390:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},455:function(t,e,r){"use strict";r.r(e);r(50),r(387);var n={data:function(){return{transaction:[],income:[],parkedVehicle:[],vehicleIn:[],dateRange:[moment().format("YYYY-MM-01"),moment().format("YYYY-MM-DD")],report:null,areaParkir:[],summary:{}}},methods:{printReport:function(){window.open(BASE_URL+"/report?action=print&dateRange[]="+this.dateRange[0]+"&dateRange[1]="+this.dateRange[1]+"&token="+this.$store.state.token,"_blank")},getTransaction:function(){var t=this;axios.get("getTransaction",{params:{dateRange:this.dateRange}}).then((function(e){t.transaction=e.data;var r=e.data.map((function(t){return t.total})).reduce((function(t,e){return t+parseInt(e)}),0);t.transaction.push({jenis_kendaraan:"TOTAL",total:r})}))},getIncome:function(){var t=this;axios.get("getIncome",{params:{dateRange:this.dateRange}}).then((function(e){t.income=e.data;var r=e.data.map((function(t){return Number(t.total)})).reduce((function(t,e){return t+Number(e)}),0),n=e.data.map((function(t){return Number(t.denda)})).reduce((function(t,e){return t+Number(e)}),0);t.income.push({jenis_kendaraan:"TOTAL",total:r,denda:n})}))},getParkedVehicle:function(){var t=this;axios.get("getParkedVehicle",{params:{dateRange:this.dateRange}}).then((function(e){t.parkedVehicle=e.data}))},getVehicleIn:function(){var t=this;axios.get("getVehicleIn",{params:{dateRange:this.dateRange}}).then((function(e){t.vehicleIn=e.data;var r=e.data.map((function(t){return t.total})).reduce((function(t,e){return t+parseInt(e)}),0);t.vehicleIn.push({gate:"TOTAL",total:r})}))},getReport:function(){var t=this;axios.get("report",{params:{dateRange:this.dateRange}}).then((function(e){t.report=e.data}))},getAreaParkir:function(){var t=this;axios.get("areaParkir").then((function(e){t.areaParkir=e.data}))},getSummary:function(){var t=this;axios.get("summary").then((function(e){t.summary=e.data}))},requestData:function(){this.getSummary(),this.getAreaParkir(),this.getTransaction(),this.getIncome(),this.getParkedVehicle(),this.getVehicleIn(),this.getReport()}},mounted:function(){this.requestData()}},o=r(36),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"grid grid-cols-3 gap-4 mb-4"},[r("div",{staticClass:"border shadow rounded-md p-3"},[t._v("\n\t\t\tHari Ini\n\t\t\t"),r("div",{staticClass:"text-5xl text-purple-700"},[t._v("\n\t\t\t\tRp. "+t._s(t._f("formatNumber")(t.summary.today))+"\n\t\t\t")])]),t._v(" "),r("div",{staticClass:"border shadow rounded-md p-3"},[t._v("\n\t\t\tBulan Ini\n\t\t\t"),r("div",{staticClass:"text-5xl text-blue-700"},[t._v("\n\t\t\t\tRp. "+t._s(t._f("formatNumber")(t.summary.this_month))+"\n\t\t\t")])]),t._v(" "),r("div",{staticClass:"border shadow rounded-md p-3"},[t._v("\n\t\t\tTotal\n\t\t\t"),r("div",{staticClass:"text-5xl text-orange-700"},[t._v("\n\t\t\t\tRp. "+t._s(t._f("formatNumber")(t.summary.total))+"\n\t\t\t")])])]),t._v(" "),r("el-card",{staticClass:"mb-3",attrs:{"body-style":{padding:"0"}}},[r("table",{staticClass:"min-w-full"},[r("thead",[r("tr",[r("th",{staticClass:"border-b px-3 py-1"},[t._v("AREA PARKIR")]),t._v(" "),r("th",{staticClass:"border-b px-3 py-1"},[t._v("KAPASITAS")]),t._v(" "),r("th",{staticClass:"border-b px-3 py-1"},[t._v("TERISI")]),t._v(" "),r("th",{staticClass:"border-b px-3 py-1"},[t._v("TERSEDIA")])])]),t._v(" "),r("tbody",t._l(t.areaParkir,(function(p){return r("tr",{key:p.id,class:{"bg-red-300":p.kapasitas==p.terisi,"bg-green-300":p.terisi<p.kapasitas}},[r("td",{staticClass:"border-b px-3 py-1"},[t._v("\n\t\t\t\t\t\t"+t._s(p.nama)+"\n\t\t\t\t\t")]),t._v(" "),r("td",{staticClass:"text-center border-b px-3 py-1"},[t._v("\n\t\t\t\t\t\t"+t._s(p.kapasitas)+"\n\t\t\t\t\t")]),t._v(" "),r("td",{staticClass:"text-center border-b px-3 py-1"},[t._v(t._s(p.terisi))]),t._v(" "),r("td",{staticClass:"text-center border-b px-3 py-1"},[t._v("\n\t\t\t\t\t\t"+t._s(p.kapasitas-p.terisi)+"\n\t\t\t\t\t")])])})),0)])]),t._v(" "),r("el-row",{staticClass:"mb-3 border rounded-md p-3 bg-gray-200"},[r("el-col",{attrs:{span:8}},[r("div",{staticClass:"text-blue-700 text-2xl ml-3"},[t._v("LAPORAN")])]),t._v(" "),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:16}},[r("el-date-picker",{staticClass:"mr-3",attrs:{format:"dd/MMM/yyyy","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},on:{change:t.requestData},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),t._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-printer"},on:{click:t.printReport}},[t._v("\n\t\t\t\tPRINT LAPORAN\n\t\t\t")])],1)],1),t._v(" "),r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:10}},[r("el-card",{staticClass:"bg-purple-600 text-white mb-3",attrs:{"body-style":{padding:"0"}}},[r("div",{attrs:{slot:"header"},slot:"header"},[t._v("Kendaraan Masuk")]),t._v(" "),r("table",{staticClass:"table min-w-full"},[r("tbody",t._l(t.vehicleIn,(function(e,n){return r("tr",{key:n},[r("td",{staticClass:"border-b px-3 py-1"},[t._v(t._s(e.gate))]),t._v(" "),r("td",{staticClass:"border-b px-3 py-1 text-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("formatNumber")(e.total))+"\n\t\t\t\t\t\t\t")])])})),0)])]),t._v(" "),r("el-card",{staticClass:"bg-blue-600 text-white mb-3",attrs:{"body-style":{padding:"0"}}},[r("div",{attrs:{slot:"header"},slot:"header"},[t._v("Transaksi")]),t._v(" "),r("table",{staticClass:"table min-w-full"},[r("tbody",t._l(t.transaction,(function(e,n){return r("tr",{key:n},[r("td",{staticClass:"border-b px-3 py-1"},[t._v(t._s(e.jenis_kendaraan))]),t._v(" "),r("td",{staticClass:"border-b px-3 py-1 text-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("formatNumber")(e.total))+"\n\t\t\t\t\t\t\t")])])})),0)])]),t._v(" "),r("el-card",{staticClass:"bg-green-600 text-white mb-3",attrs:{"body-style":{padding:"0"}}},[r("div",{attrs:{slot:"header"},slot:"header"},[t._v("Pendapatan")]),t._v(" "),r("table",{staticClass:"table min-w-full"},[r("tbody",t._l(t.income,(function(e,n){return r("tr",{key:n},[r("td",{staticClass:"border-b px-3 py-1"},[t._v(t._s(e.jenis_kendaraan))]),t._v(" "),r("td",{staticClass:"border-b px-3 py-1 text-right"},[t._v("\n\t\t\t\t\t\t\t\tRp. "+t._s(t._f("formatNumber")(Number(e.total)+Number(e.denda)))+"\n\t\t\t\t\t\t\t")])])})),0)])]),t._v(" "),r("el-card",{staticClass:"bg-orange-600 text-white mb-3",attrs:{"body-style":{padding:"0"}}},[r("div",{attrs:{slot:"header"},slot:"header"},[t._v("Kendaraan Masih Terparkir")]),t._v(" "),r("table",{staticClass:"table min-w-full"},[r("thead",[r("tr",t._l(Object.keys(t.parkedVehicle[0]),(function(header,e){return r("th",{key:e,staticClass:"border-b px-3 py-1"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(header)+"\n\t\t\t\t\t\t\t")])})),0)]),t._v(" "),r("tbody",t._l(t.parkedVehicle,(function(e,n){return r("tr",{key:n},t._l(Object.keys(t.parkedVehicle[n]),(function(header,n){return r("td",{key:n,staticClass:"border-b px-3 py-1 text-center"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[header])+"\n\t\t\t\t\t\t\t")])})),0)})),0)])])],1),t._v(" "),r("el-col",{attrs:{span:14}},[r("el-card",[r("div",{domProps:{innerHTML:t._s(t.report)}})])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);