import{E as Ae,b as Ge,a as Je}from"./CyEzwmSj.js";import{b as qe,e as Ne,u as We,_ as Qe}from"./B9Vkd1wa.js";import{u as Ye,O as Xe,P as Ze,b as el,M as ll,n as se,s as ce,t as pe,o as fe,E as ue,p as be,r as oe,j as Ue,k as re,m as ge,l as je,Q as al,A as nl,z as tl}from"./B15HZdEw.js";import{E as he,a as ke}from"./azIVrqrg.js";import{u as ol,b as ie,a as xe,E as rl}from"./BS3136yc.js";import{a as il,E as sl}from"./DhQuxW_g.js";import{u as Be}from"./Bgdaje74.js";import{u as Pe,E as ze}from"./DnlZKdCS.js";import{d as Le,r as le,c as W,t as k,T as D,A as a,I as e,K as ul,Y as He,U as ye,v as K,V as H,W as Q,Q as dl,z as l,B as c,o as ve,x as V,G as ae,y as I,L as B,a3 as $e,J as _e}from"./DAbYlUJN.js";import{E as Ve,a as Ce}from"./cOYFCtI3.js";import{E as we,a as Te,b as Se}from"./DJyx-O7I.js";import"./l0sNRNKZ.js";import{v as Me,E as Ie}from"./DqneA1Ew.js";import{u as Re}from"./DcKRg1BL.js";import{t as ne}from"./CbPeXI4l.js";import{d as Ke,c as ml}from"./CY9tAmGA.js";import{E as pl}from"./CchPqzhq.js";import"./Cpj98o6Y.js";const _l=qe({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Ye,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Ne([String,Object]),default:()=>Xe},clearIcon:{type:Ne([String,Object]),default:()=>Ze},...ol}),q=C=>{const g=(C||"").split(":");if(g.length>=2){let d=Number.parseInt(g[0],10);const o=Number.parseInt(g[1],10),t=C.toUpperCase();return t.includes("AM")&&d===12?d=0:t.includes("PM")&&d!==12&&(d+=12),{hours:d,minutes:o}}return null},De=(C,g)=>{const d=q(C);if(!d)return-1;const o=q(g);if(!o)return-1;const t=d.minutes+d.hours*60,u=o.minutes+o.hours*60;return t===u?0:t>u?1:-1},Fe=C=>`${C}`.padStart(2,"0"),te=C=>`${Fe(C.hours)}:${Fe(C.minutes)}`,cl=(C,g)=>{const d=q(C);if(!d)return"";const o=q(g);if(!o)return"";const t={hours:d.hours,minutes:d.minutes};return t.minutes+=o.minutes,t.hours+=o.hours,t.hours+=Math.floor(t.minutes/60),t.minutes=t.minutes%60,te(t)},fl=Le({name:"ElTimeSelect"}),bl=Le({...fl,props:_l,emits:["change","blur","focus","update:modelValue"],setup(C,{expose:g}){const d=C;Ke.extend(ml);const{Option:o}=ie,t=We("input"),u=le(),h=el(),{lang:j}=ll(),_=W(()=>d.modelValue),E=W(()=>{const n=q(d.start);return n?te(n):null}),y=W(()=>{const n=q(d.end);return n?te(n):null}),P=W(()=>{const n=q(d.step);return n?te(n):null}),z=W(()=>{const n=q(d.minTime||"");return n?te(n):null}),N=W(()=>{const n=q(d.maxTime||"");return n?te(n):null}),$=W(()=>{const n=[];if(d.start&&d.end&&d.step){let i=E.value,r;for(;i&&y.value&&De(i,y.value)<=0;)r=Ke(i,"HH:mm").locale(j.value).format(d.format),n.push({value:r,disabled:De(i,z.value||"-1:-1")<=0||De(i,N.value||"100:100")>=0}),i=cl(i,P.value)}return n});return g({blur:()=>{var n,i;(i=(n=u.value)==null?void 0:n.blur)==null||i.call(n)},focus:()=>{var n,i;(i=(n=u.value)==null?void 0:n.focus)==null||i.call(n)}}),(n,i)=>(k(),D(e(ie),{ref_key:"select",ref:u,"model-value":e(_),disabled:e(h),clearable:n.clearable,"clear-icon":n.clearIcon,size:n.size,effect:n.effect,placeholder:n.placeholder,"default-first-option":"",filterable:n.editable,"empty-values":n.emptyValues,"value-on-clear":n.valueOnClear,"onUpdate:modelValue":i[0]||(i[0]=r=>n.$emit("update:modelValue",r)),onChange:i[1]||(i[1]=r=>n.$emit("change",r)),onBlur:i[2]||(i[2]=r=>n.$emit("blur",r)),onFocus:i[3]||(i[3]=r=>n.$emit("focus",r))},{prefix:a(()=>[n.prefixIcon?(k(),D(e(se),{key:0,class:ul(e(t).e("prefix-icon"))},{default:a(()=>[(k(),D(He(n.prefixIcon)))]),_:1},8,["class"])):ye("v-if",!0)]),default:a(()=>[(k(!0),K(H,null,Q(e($),r=>(k(),D(e(o),{key:r.value,label:r.value,value:r.value,disabled:r.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var Ee=Qe(bl,[["__file","time-select.vue"]]);Ee.install=C=>{C.component(Ee.name,Ee)};const gl=Ee,hl=gl,kl={__name:"General",setup(C){const g=Pe(),d=Be(),o=le({}),t=le(!1),u=dl({...g.setting}),h=async()=>{t.value=!0;let j="/api/setting";u.id&&(j+=`/${u.id}`);try{await d(j,{method:u.id?"PUT":"POST",body:u}),pe({message:"Data berhasil disimpan.",type:"success",showClose:!0}),g.getSetting()}catch(_){_.response.status==422?o.value=_.response._data.errors:o.value={}}t.value=!1};return(j,_)=>{const E=fe,y=he,P=xe,z=ie,N=il,$=sl,f=ke,s=ue;return k(),K("div",null,[l(f,{"label-position":"left","label-width":"250px"},{default:a(()=>[l($,{gutter:20},{default:a(()=>[l(N,{span:12},{default:a(()=>{var n,i,r,S,A,x;return[l(y,{label:"Nama Lokasi",error:(n=e(o).nama_lokasi)==null?void 0:n.join(", ")},{default:a(()=>[l(E,{placeholder:"Nama Lokasi",modelValue:e(u).nama_lokasi,"onUpdate:modelValue":_[0]||(_[0]=p=>e(u).nama_lokasi=p)},null,8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Alamat Lokasi",error:(i=e(o).alamat_lokasi)==null?void 0:i.join(", ")},{default:a(()=>[l(E,{placeholder:"Alamat Lokasi",type:"textarea",rows:"3",modelValue:e(u).alamat_lokasi,"onUpdate:modelValue":_[1]||(_[1]=p=>e(u).alamat_lokasi=p)},null,8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Info Tambahan Tiket",error:(r=e(o).info_tambahan_tiket)==null?void 0:r.join(", ")},{default:a(()=>[l(E,{placeholder:"Info Tambahan Tiket",type:"textarea",rows:"3",modelValue:e(u).info_tambahan_tiket,"onUpdate:modelValue":_[2]||(_[2]=p=>e(u).info_tambahan_tiket=p)},null,8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Plat Nomor Default",error:(S=e(o).plat_nomor_default)==null?void 0:S.join(", ")},{default:a(()=>[l(E,{placeholder:"Plat Nomor Default",modelValue:e(u).plat_nomor_default,"onUpdate:modelValue":_[3]||(_[3]=p=>e(u).plat_nomor_default=p)},null,8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Jumlah Kendaraan Per Kartu",error:(A=e(o).jml_kendaraan_per_kartu)==null?void 0:A.join(", ")},{default:a(()=>[l(E,{type:"number",placeholder:"Jumlah Kendaraan Per Kartu (0 untuk tak terbatas)",modelValue:e(u).jml_kendaraan_per_kartu,"onUpdate:modelValue":_[4]||(_[4]=p=>e(u).jml_kendaraan_per_kartu=p)},null,8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Orientasi Kamera",error:(x=e(o).orientasi_kamera)==null?void 0:x.join(", ")},{default:a(()=>[l(z,{placeholder:"Orientasi Kamera",modelValue:e(u).orientasi_kamera,"onUpdate:modelValue":_[5]||(_[5]=p=>e(u).orientasi_kamera=p),style:{width:"100%"}},{default:a(()=>[(k(),K(H,null,Q(["LANDSCAPE","POTRAIT"],(p,U)=>l(P,{key:U,value:p,label:p},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"])]}),_:1}),l(N,{span:12},{default:a(()=>{var n,i,r,S,A,x;return[l(y,{label:"Mode Transaksi Member",error:(n=e(o).must_checkout)==null?void 0:n.join(", ")},{default:a(()=>[l(z,{placeholder:"Mode Transaksi Member",modelValue:e(u).must_checkout,"onUpdate:modelValue":_[6]||(_[6]=p=>e(u).must_checkout=p),style:{width:"100%"}},{default:a(()=>[(k(),K(H,null,Q(["Tidak harus check out","Harus check out"],(p,U)=>l(P,{key:U,value:U,label:p},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Mode Buka Gate Untuk Member",error:(i=e(o).member_auto_open)==null?void 0:i.join(", ")},{default:a(()=>[l(z,{placeholder:"Mode Buka Gate Untuk Member",modelValue:e(u).member_auto_open,"onUpdate:modelValue":_[7]||(_[7]=p=>e(u).member_auto_open=p),style:{width:"100%"}},{default:a(()=>[(k(),K(H,null,Q(["Ketik Plat Nomor (Buka oleh operator)","Tempel Kartu (Otomatis)"],(p,U)=>l(P,{key:U,value:U,label:p},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Disable Plat Nomor di Pos Keluar",error:(r=e(o).disable_plat_nomor)==null?void 0:r.join(", ")},{default:a(()=>[l(z,{placeholder:"Disable Plat Nomor di Pos Keluar",modelValue:e(u).disable_plat_nomor,"onUpdate:modelValue":_[8]||(_[8]=p=>e(u).disable_plat_nomor=p),style:{width:"100%"}},{default:a(()=>[(k(),K(H,null,Q(["Tidak","Ya"],(p,U)=>l(P,{key:U,value:!!U,label:p},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Hapus Snapshot dalam x hari",error:(S=e(o).hapus_snapshot_dalam_hari)==null?void 0:S.join(", ")},{default:a(()=>[l(E,{type:"number",placeholder:"Hapus Snapshot dalam x hari (0 untuk hapus manual)",modelValue:e(u).hapus_snapshot_dalam_hari,"onUpdate:modelValue":_[9]||(_[9]=p=>e(u).hapus_snapshot_dalam_hari=p)},null,8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"Hapus Transaksi dalam x hari",error:(A=e(o).hapus_transaksi_dalam_hari)==null?void 0:A.join(", ")},{default:a(()=>[l(E,{type:"number",placeholder:"Hapus Transaksi dalam x hari",modelValue:e(u).hapus_transaksi_dalam_hari,"onUpdate:modelValue":_[10]||(_[10]=p=>e(u).hapus_transaksi_dalam_hari=p)},null,8,["modelValue"])]),_:1},8,["error"]),l(y,{label:"ID Pelanggan",error:(x=e(o).id_pelanggan)==null?void 0:x.join(", ")},{default:a(()=>[l(E,{placeholder:"ID Pelanggan",modelValue:e(u).id_pelanggan,"onUpdate:modelValue":_[11]||(_[11]=p=>e(u).id_pelanggan=p)},null,8,["modelValue"])]),_:1},8,["error"])]}),_:1})]),_:1})]),_:1}),l(s,{style:{width:"100%"},type:"primary",onClick:h,icon:e(ce)},{default:a(()=>[c(" SIMPAN ")]),_:1},8,["icon"])])}}},yl={class:"text-right"},vl=V("br",null,null,-1),Vl=V("br",null,null,-1),Cl=V("br",null,null,-1),wl=V("br",null,null,-1),Tl=V("br",null,null,-1),Sl={class:"el-dropdown-link"},El=V("br",null,null,-1),Al={class:"mb-2 flex"},Ul={class:"flex"},jl={__name:"JenisKendaraan",setup(C){const{getJenisKendaraanList:g}=Pe(),{showForm:d,formErrors:o,formModel:t,pageSize:u,tableData:h,loading:j,currentChange:_,sizeChange:E,openForm:y,save:P,deleteData:z,closeForm:N,requestData:$}=Re("/api/jenisKendaraan");return ve(()=>{$()}),(f,s)=>{const n=ue,i=Ve,r=se,S=we,A=Te,x=Se,p=Ce,U=Ae,w=fe,T=he,M=xe,J=ie,Y=ke,O=ze,X=Me;return k(),K(H,null,[V("div",yl,[l(n,{size:"small",icon:e(be),onClick:s[0]||(s[0]=m=>e(y)()),type:"primary"},{default:a(()=>[c(" TAMBAH JENIS KENDARAAN ")]),_:1},8,["icon"])]),vl,ae((k(),D(p,{data:e(h).data,stripe:""},{default:a(()=>[l(i,{type:"index",index:e(h).from,label:"#"},null,8,["index"]),l(i,{prop:"nama",label:"Nama","min-width":"100px"}),l(i,{prop:"group",label:"Group","min-width":"100px"}),l(i,{prop:"shortcut_key",label:"Shortcut",align:"center","header-align":"center","min-width":"100px"}),l(i,{label:"Mode Tarif",align:"center","header-align":"center","min-width":"120px"},{default:a(({row:m})=>[c(I(m.mode_tarif?"PROGRESIF":"FLAT"),1)]),_:1}),l(i,{label:"Mode Inap",align:"center","header-align":"center","min-width":"120px"},{default:a(({row:m})=>[c(I(m.mode_menginap?"LEWAT TENGAH MALAM":"24 JAM DARI CHECK IN"),1)]),_:1}),l(i,{prop:"tarif_flat",label:"Tarif Flat",align:"center","header-align":"center","min-width":"120px"},{default:a(({row:m})=>[c(I(("toRupiah"in f?f.toRupiah:e(ne))(m.tarif_flat)),1)]),_:1}),l(i,{label:"Tarif Non Flat","min-width":"250px"},{default:a(({row:m})=>[c(" Tarif "+I(m.menit_pertama)+" menit pertama = "+I(("toRupiah"in f?f.toRupiah:e(ne))(m.tarif_menit_pertama))+" ",1),Vl,c(" Tarif "+I(m.menit_selanjutnya)+" menit selanjutnya = "+I(("toRupiah"in f?f.toRupiah:e(ne))(m.tarif_menit_selanjutnya))+" ",1),Cl,c(" Tarif maksimal per hari = "+I(("toRupiah"in f?f.toRupiah:e(ne))(m.tarif_maksimum))+" ",1),wl,c(" Tarif menginap per hari = "+I(("toRupiah"in f?f.toRupiah:e(ne))(m.tarif_menginap))+" ",1),Tl]),_:1}),l(i,{prop:"denda_tiket_hilang",label:"Denda Tiket Hilang",align:"center","header-align":"center","min-width":"150px"},{default:a(({row:m})=>[c(I(("toRupiah"in f?f.toRupiah:e(ne))(m.denda_tiket_hilang)),1)]),_:1}),l(i,{width:"60px",align:"center","header-align":"center"},{header:a(()=>[l(n,{link:"",onClick:e($),icon:e(oe)},null,8,["onClick","icon"])]),default:a(({row:m})=>[l(x,null,{dropdown:a(()=>[l(A,null,{default:a(()=>[l(S,{icon:e(Ue),onClick:B(R=>e(y)(m),["prevent"])},{default:a(()=>[c(" Edit ")]),_:2},1032,["icon","onClick"]),l(S,{icon:e(re),onClick:B(R=>e(z)(m.id,e(g)),["prevent"])},{default:a(()=>[c(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:a(()=>[V("span",Sl,[l(r,null,{default:a(()=>[l(e(ge))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[X,e(j)]]),El,e(h).total?(k(),D(U,{key:0,small:"",background:"",layout:"total, sizes, prev, pager, next","page-size":e(u),"page-sizes":[10,25,50,100],total:e(h).total,onCurrentChange:e(_),onSizeChange:e(E)},null,8,["page-size","total","onCurrentChange","onSizeChange"])):ye("",!0),l(O,{modelValue:e(d),"onUpdate:modelValue":s[15]||(s[15]=m=>_e(d)?d.value=m:null),title:"JENIS KENDARAAN",width:"700px","close-on-click-modal":!1},{footer:a(()=>[l(n,{icon:e(je),onClick:e(N)},{default:a(()=>[c(" BATAL ")]),_:1},8,["icon","onClick"]),l(n,{icon:e(ce),type:"primary",onClick:s[14]||(s[14]=m=>e(P)(e(g)))},{default:a(()=>[c(" SIMPAN ")]),_:1},8,["icon"])]),default:a(()=>[l(Y,{"label-width":"200px","label-position":"left"},{default:a(()=>{var m,R,G,F,Z,b,ee,de,me;return[l(T,{label:"Nama",error:(m=e(o).nama)==null?void 0:m.join(", ")},{default:a(()=>[l(w,{placeholder:"Nama",modelValue:e(t).nama,"onUpdate:modelValue":s[1]||(s[1]=v=>e(t).nama=v)},null,8,["modelValue"])]),_:1},8,["error"]),l(T,{label:"Group",error:(R=e(o).group)==null?void 0:R.join(", ")},{default:a(()=>[l(w,{placeholder:"Group",modelValue:e(t).group,"onUpdate:modelValue":s[2]||(s[2]=v=>e(t).group=v)},null,8,["modelValue"])]),_:1},8,["error"]),l(T,{label:"Shortcut Key",error:(G=e(o).shortcut_key)==null?void 0:G.join(", ")},{default:a(()=>[l(w,{maxlength:"1",placeholder:"Shortcut Key",modelValue:e(t).shortcut_key,"onUpdate:modelValue":s[3]||(s[3]=v=>e(t).shortcut_key=v)},null,8,["modelValue"])]),_:1},8,["error"]),l(T,{label:"Mode Inap",error:(F=e(o).mode_menginap)==null?void 0:F.join(", ")},{default:a(()=>[l(J,{placeholder:"Mode Inap",modelValue:e(t).mode_menginap,"onUpdate:modelValue":s[4]||(s[4]=v=>e(t).mode_menginap=v),style:{width:"100%"}},{default:a(()=>[l(M,{value:0,label:"24 JAM DARI CHECK IN"}),l(M,{value:1,label:"LEWAT TENGAH MALAM"})]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(T,{label:"Tarif menginap per hari (Rp)",error:(Z=e(o).tarif_menginap)==null?void 0:Z.join(", ")},{default:a(()=>[l(w,{type:"number",placeholder:"Tarif menginap per hari (Rp)",modelValue:e(t).tarif_menginap,"onUpdate:modelValue":s[5]||(s[5]=v=>e(t).tarif_menginap=v)},null,8,["modelValue"])]),_:1},8,["error"]),l(T,{label:"Denda Tiket Hilang (Rp)",error:(b=e(o).denda_tiket_hilang)==null?void 0:b.join(", ")},{default:a(()=>[l(w,{type:"number",step:500,placeholder:"Denda Tiket Hilang (Rp)",modelValue:e(t).denda_tiket_hilang,"onUpdate:modelValue":s[6]||(s[6]=v=>e(t).denda_tiket_hilang=v)},null,8,["modelValue"])]),_:1},8,["error"]),l(T,{label:"Mode Tarif",error:(ee=e(o).mode_tarif)==null?void 0:ee.join(", ")},{default:a(()=>[l(J,{placeholder:"FLAT/PROGRESIF",modelValue:e(t).mode_tarif,"onUpdate:modelValue":s[7]||(s[7]=v=>e(t).mode_tarif=v),style:{width:"100%"}},{default:a(()=>[l(M,{value:0,label:"FLAT"}),l(M,{value:1,label:"PROGRESIF"})]),_:1},8,["modelValue"])]),_:1},8,["error"]),ae(l(T,{label:"Tarif Flat (Rp)",error:(de=e(o).tarif_flat)==null?void 0:de.join(", ")},{default:a(()=>[l(w,{type:"number",step:500,placeholder:"Tarif Flat (Rp)",modelValue:e(t).tarif_flat,"onUpdate:modelValue":s[8]||(s[8]=v=>e(t).tarif_flat=v)},null,8,["modelValue"])]),_:1},8,["error"]),[[$e,e(t).mode_tarif===0]]),ae(l(T,{label:"Tarif maksimal per hari (Rp)",error:(me=e(o).tarif_maksimum)==null?void 0:me.join(", ")},{default:a(()=>[l(w,{type:"number",placeholder:"Tarif maksimal per hari (Rp)",modelValue:e(t).tarif_maksimum,"onUpdate:modelValue":s[9]||(s[9]=v=>e(t).tarif_maksimum=v)},null,8,["modelValue"])]),_:1},8,["error"]),[[$e,e(t).mode_tarif===1]]),ae(l(T,{label:"Tarif Progresif"},{default:a(()=>[V("div",Al,[l(w,{type:"number",modelValue:e(t).menit_pertama,"onUpdate:modelValue":s[10]||(s[10]=v=>e(t).menit_pertama=v),style:{width:"250px"},class:"mr-2",placeholder:"Menit Pertama"},null,8,["modelValue"]),l(w,{type:"number",modelValue:e(t).tarif_menit_pertama,"onUpdate:modelValue":s[11]||(s[11]=v=>e(t).tarif_menit_pertama=v),placeholder:`Tarif ${e(t).menit_pertama} menit pertama (Rp)`},null,8,["modelValue","placeholder"])]),V("div",Ul,[l(w,{type:"number",modelValue:e(t).menit_selanjutnya,"onUpdate:modelValue":s[12]||(s[12]=v=>e(t).menit_selanjutnya=v),style:{width:"250px"},class:"mr-2",placeholder:"Menit Selanjutnya"},null,8,["modelValue"]),l(w,{type:"number",modelValue:e(t).tarif_menit_selanjutnya,"onUpdate:modelValue":s[13]||(s[13]=v=>e(t).tarif_menit_selanjutnya=v),placeholder:`Tarif ${e(t).menit_selanjutnya} menit selanjutnya (Rp)`},null,8,["modelValue","placeholder"])])]),_:1},512),[[$e,e(t).mode_tarif===1]])]}),_:1})]),_:1},8,["modelValue"])],64)}}},xl={class:"text-right"},Pl=V("br",null,null,-1),zl={class:"el-dropdown-link"},Ml=V("br",null,null,-1),Rl={__name:"Shift",setup(C){const{getShiftList:g}=Pe(),{showForm:d,formErrors:o,formModel:t,pageSize:u,tableData:h,loading:j,currentChange:_,sizeChange:E,openForm:y,save:P,deleteData:z,closeForm:N,requestData:$,refreshData:f}=Re("/api/shift");return ve(()=>{$()}),(s,n)=>{const i=ue,r=Ve,S=se,A=we,x=Te,p=Se,U=Ce,w=Ae,T=fe,M=he,J=hl,Y=ke,O=ze,X=Me;return k(),K(H,null,[V("div",xl,[l(i,{size:"small",icon:e(be),onClick:n[0]||(n[0]=m=>e(y)()),type:"primary"},{default:a(()=>[c(" TAMBAH SHIFT ")]),_:1},8,["icon"])]),Pl,ae((k(),D(U,{data:e(h).data,stripe:""},{default:a(()=>[l(r,{type:"index",index:e(h).from,label:"#"},null,8,["index"]),l(r,{prop:"nama",label:"Nama"}),l(r,{prop:"mulai",label:"Mulai"}),l(r,{prop:"selesai",label:"Selesai"}),l(r,{fixed:"right",width:"60px","header-align":"center",align:"center"},{header:a(()=>[l(i,{link:"",onClick:e(f),icon:e(oe)},null,8,["onClick","icon"])]),default:a(({row:m})=>[l(p,null,{dropdown:a(()=>[l(x,null,{default:a(()=>[l(A,{icon:e(Ue),onClick:B(R=>e(y)(m),["prevent"])},{default:a(()=>[c(" Edit ")]),_:2},1032,["icon","onClick"]),l(A,{icon:e(re),onClick:B(R=>e(z)(m.id,s.getJenisKendaraanList),["prevent"])},{default:a(()=>[c(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:a(()=>[V("span",zl,[l(S,null,{default:a(()=>[l(e(ge))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[X,e(j)]]),Ml,e(h).total?(k(),D(w,{key:0,small:"",background:"",layout:"total, sizes, prev, pager, next","page-size":e(u),"page-sizes":[10,25,50,100],total:e(h).total,onCurrentChange:e(_),onSizeChange:e(E)},null,8,["page-size","total","onCurrentChange","onSizeChange"])):ye("",!0),l(O,{modelValue:e(d),"onUpdate:modelValue":n[5]||(n[5]=m=>_e(d)?d.value=m:null),title:"SHIFT",width:"450px","close-on-click-modal":!1},{footer:a(()=>[l(i,{icon:e(je),onClick:e(N)},{default:a(()=>[c(" BATAL ")]),_:1},8,["icon","onClick"]),l(i,{icon:e(ce),type:"primary",onClick:n[4]||(n[4]=m=>e(P)(e(g)))},{default:a(()=>[c(" SIMPAN ")]),_:1},8,["icon"])]),default:a(()=>[l(Y,{"label-width":"100px","label-position":"left"},{default:a(()=>{var m,R,G;return[l(M,{label:"Nama",error:(m=e(o).nama)==null?void 0:m.join(", ")},{default:a(()=>[l(T,{placeholder:"Nama",modelValue:e(t).nama,"onUpdate:modelValue":n[1]||(n[1]=F=>e(t).nama=F)},null,8,["modelValue"])]),_:1},8,["error"]),l(M,{label:"Mulai",error:(R=e(o).mulai)==null?void 0:R.join(", ")},{default:a(()=>[l(J,{style:{width:"100%"},modelValue:e(t).mulai,"onUpdate:modelValue":n[2]||(n[2]=F=>e(t).mulai=F),start:"00:00",step:"00:01",end:"23:59",placeholder:"Mulai"},null,8,["modelValue"])]),_:1},8,["error"]),l(M,{label:"Selesai",error:(G=e(o).selesai)==null?void 0:G.join(", ")},{default:a(()=>[l(J,{style:{width:"100%"},modelValue:e(t).selesai,"onUpdate:modelValue":n[3]||(n[3]=F=>e(t).selesai=F),start:"00:00",step:"00:01",end:"23:59",placeholder:"Selesai"},null,8,["modelValue"])]),_:1},8,["error"])]}),_:1})]),_:1},8,["modelValue"])],64)}}},$l={class:"text-right"},Dl=V("br",null,null,-1),Nl={class:"el-dropdown-link"},Il=V("br",null,null,-1),Kl={__name:"AreaParkir",setup(C){const g=Pe(),{showForm:d,formErrors:o,formModel:t,pageSize:u,tableData:h,loading:j,currentChange:_,sizeChange:E,openForm:y,save:P,deleteData:z,closeForm:N,requestData:$}=Re("/api/areaParkir"),f=W(()=>g.jenisKendaraanList);return ve(()=>{$()}),(s,n)=>{const i=ue,r=Ve,S=se,A=we,x=Te,p=Se,U=Ce,w=Ae,T=fe,M=he,J=xe,Y=ie,O=ke,X=ze;return k(),K("div",null,[V("div",$l,[l(i,{size:"small",icon:e(be),onClick:n[0]||(n[0]=m=>e(y)()),type:"primary"},{default:a(()=>[c(" TAMBAH AREA PARKIR ")]),_:1},8,["icon"])]),Dl,l(U,{data:e(h).data,stripe:""},{default:a(()=>[l(r,{type:"index",index:e(h).from,label:"#"},null,8,["index"]),l(r,{"min-width":"100",label:"Nama",prop:"nama"}),l(r,{"min-width":"100",label:"Keterangan",prop:"keterangan"}),l(r,{"min-width":"100",label:"Jenis Kendaraan"},{default:a(({row:m})=>[c(I(m.jenis_kendaraan.join(", ")),1)]),_:1}),l(r,{"min-width":"100",label:"Kapasitas",prop:"kapasitas","header-align":"center",align:"center"}),l(r,{"min-width":"100",label:"Terisi",prop:"terisi","header-align":"center",align:"center"}),l(r,{fixed:"right",width:"60px",align:"center","header-align":"center"},{header:a(()=>[l(i,{link:"",onClick:e($),icon:e(oe)},null,8,["onClick","icon"])]),default:a(({row:m})=>[l(p,null,{dropdown:a(()=>[l(x,null,{default:a(()=>[l(A,{icon:e(Ue),onClick:B(R=>e(y)(m),["prevent"])},{default:a(()=>[c(" Edit ")]),_:2},1032,["icon","onClick"]),l(A,{icon:e(re),onClick:B(R=>e(z)(m.id),["prevent"])},{default:a(()=>[c(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:a(()=>[V("span",Nl,[l(S,null,{default:a(()=>[l(e(ge))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"]),Il,e(h).total?(k(),D(w,{key:0,small:"",background:"",layout:"total, sizes, prev, pager, next","page-size":e(u),"page-sizes":[10,25,50,100],total:e(h).total,onCurrentChange:e(_),onSizeChange:e(E)},null,8,["page-size","total","onCurrentChange","onSizeChange"])):ye("",!0),l(X,{modelValue:e(d),"onUpdate:modelValue":n[7]||(n[7]=m=>_e(d)?d.value=m:null),title:"AREA PARKIR",width:"500px","close-on-click-modal":!1},{footer:a(()=>[l(i,{icon:e(je),onClick:e(N)},{default:a(()=>[c(" BATAL ")]),_:1},8,["icon","onClick"]),l(i,{icon:e(ce),type:"primary",onClick:n[6]||(n[6]=m=>e(P)())},{default:a(()=>[c(" SIMPAN ")]),_:1},8,["icon"])]),default:a(()=>[l(O,{"label-width":"150px","label-position":"left"},{default:a(()=>{var m,R,G,F,Z;return[l(M,{label:"Nama",error:(m=e(o).nama)==null?void 0:m.join(", ")},{default:a(()=>[l(T,{placeholder:"Nama",modelValue:e(t).nama,"onUpdate:modelValue":n[1]||(n[1]=b=>e(t).nama=b)},null,8,["modelValue"])]),_:1},8,["error"]),l(M,{label:"Keterangan",error:(R=e(o).keterangan)==null?void 0:R.join(", ")},{default:a(()=>[l(T,{placeholder:"Keterangan",modelValue:e(t).keterangan,"onUpdate:modelValue":n[2]||(n[2]=b=>e(t).keterangan=b)},null,8,["modelValue"])]),_:1},8,["error"]),l(M,{label:"Jenis Kendaraan",error:(G=e(o).jenis_kendaraan)==null?void 0:G.join(", ")},{default:a(()=>[l(Y,{modelValue:e(t).jenis_kendaraan,"onUpdate:modelValue":n[3]||(n[3]=b=>e(t).jenis_kendaraan=b),placeholder:"Jenis Kendaraan",style:{width:"100%"},multiple:""},{default:a(()=>[(k(!0),K(H,null,Q(e(f),b=>(k(),D(J,{value:b.nama,label:b.nama,key:b.id},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(M,{label:"Kapasitas",error:(F=e(o).kapasitas)==null?void 0:F.join(", ")},{default:a(()=>[l(T,{type:"number",placeholder:"Kapasitas",modelValue:e(t).kapasitas,"onUpdate:modelValue":n[4]||(n[4]=b=>e(t).kapasitas=b)},null,8,["modelValue"])]),_:1},8,["error"]),l(M,{label:"Terisi",error:(Z=e(o).terisi)==null?void 0:Z.join(", ")},{default:a(()=>[l(T,{type:"number",placeholder:"Terisi",modelValue:e(t).terisi,"onUpdate:modelValue":n[5]||(n[5]=b=>e(t).terisi=b)},null,8,["modelValue"])]),_:1},8,["error"])]}),_:1})]),_:1},8,["modelValue"])])}}},Fl={class:"el-dropdown-link"},Bl={__name:"Backup",setup(C){const g=Be(),d=le([]),o=le(!1),t=le(!1),u=le([]);ve(()=>{h()});const h=()=>{o.value=!0,g("/api/backup").then(f=>{d.value=f}).finally(()=>{o.value=!1})},j=f=>{Ie.confirm("Anda yakin akan menghapus file ini?","Konfirmasi",{type:"warning"}).then(()=>g("/api/backup",{method:"DELETE",body:{file:f}})).then(s=>{pe({message:s.message,type:"success",showClose:!0}),h()})},_=()=>{t.value=!0,g("/api/backup",{method:"POST"}).then(f=>{pe({message:f.message,type:"success",showClose:!0}),h()}).finally(()=>{t.value=!1})},E=f=>{Ie.confirm("Anda yakin akan me-restore database?","Konfirmasi",{type:"warning"}).then(()=>(o.value=!0,g("/api/backup",{method:"PUT",body:{file:f}}))).then(s=>{pe({message:s.message,type:"success",showClose:!0}),h()}).finally(()=>{o.value=!1})},y=()=>{document.querySelector("#input-file").click()},P=f=>{var s=new FormData;s.append("file",f.target.files[0]),g("/api/backup",{method:"POST",body:s},{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{pe({message:n.message,type:"success",showClose:!0}),h()}).finally(()=>{o.value=!1,document.querySelector("#input-file").value=""})},z=f=>{u.value=f.map(s=>s.file)},N=()=>{j(u.value)},$=f=>{window.open(f,"_blank")};return(f,s)=>{const n=ue,i=Ve,r=se,S=we,A=Te,x=Se,p=Ce,U=Me;return k(),K(H,null,[V("form",{class:"flex justify-content-end mb-3",inline:"",onSubmit:s[0]||(s[0]=B(()=>{},["prevent"]))},[l(n,{disabled:e(u).length==0,onClick:N,type:"danger",icon:e(re),size:"small",title:"Hapus File Backup"},{default:a(()=>[c(" HAPUS FILE BACKUP ")]),_:1},8,["disabled","icon"]),l(n,{onClick:y,type:"primary",class:"mr-2",icon:e(al),size:"small",title:"Upload File Backup"},{default:a(()=>[c(" UPLOAD FILE BACKUP ")]),_:1},8,["icon"]),V("input",{type:"file",style:{display:"none"},id:"input-file",onChange:P},null,32),l(n,{onClick:_,type:"primary",icon:e(be),size:"small",title:"Generate Backup",loading:e(t)},{default:a(()=>[c(" GENERATE BACKUP ")]),_:1},8,["icon","loading"])],32),ae((k(),D(p,{data:e(d),stripe:"",height:"calc(100vh - 200px)",onSelectionChange:z},{default:a(()=>[l(i,{type:"selection",width:"55",align:"center","header-align":"center"}),l(i,{type:"index",label:"#"}),l(i,{prop:"tanggal",label:"Tanggal",width:"200"}),l(i,{prop:"file",label:"File"}),l(i,{prop:"size",label:"Ukuran",width:"100",align:"right","header-align":"right"}),l(i,{width:"60",align:"center","header-align":"center"},{header:a(()=>[l(n,{link:"",onClick:h,icon:e(oe)},null,8,["icon"])]),default:a(({row:w})=>[l(x,null,{dropdown:a(()=>[l(A,null,{default:a(()=>[l(S,{icon:e(nl),onClick:B(T=>$(w.url),["prevent"])},{default:a(()=>[c("Download")]),_:2},1032,["icon","onClick"]),l(S,{icon:e(oe),onClick:B(T=>E(w.file),["prevent"])},{default:a(()=>[c(" Restore ")]),_:2},1032,["icon","onClick"]),l(S,{icon:e(re),onClick:B(T=>j(w.file),["prevent"])},{default:a(()=>[c(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:a(()=>[V("span",Fl,[l(r,null,{default:a(()=>[l(e(ge))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[U,e(o)]])],64)}}},Ll=V("br",null,null,-1),Hl={class:"el-dropdown-link"},Ol=V("br",null,null,-1),Gl={__name:"User",setup(C){const{showForm:g,formErrors:d,formModel:o,pageSize:t,tableData:u,loading:h,keyword:j,currentChange:_,sizeChange:E,sortChange:y,openForm:P,save:z,deleteData:N,closeForm:$,requestData:f,searchData:s,refreshData:n}=Re("/api/user");return ve(()=>{f()}),(i,r)=>{const S=ue,A=fe,x=Ve,p=rl,U=se,w=we,T=Te,M=Se,J=Ce,Y=Ae,O=he,X=xe,m=ie,R=pl,G=ke,F=ze,Z=Me;return k(),K(H,null,[V("form",{class:"flex justify-content-end",onSubmit:r[2]||(r[2]=B((...b)=>e(s)&&e(s)(...b),["prevent"]))},[l(S,{size:"small",onClick:r[0]||(r[0]=b=>e(P)({role:0,password:""})),type:"primary",icon:e(be),class:"mr-2"},{default:a(()=>[c(" TAMBAH USER ")]),_:1},8,["icon"]),l(A,{size:"small",modelValue:e(j),"onUpdate:modelValue":r[1]||(r[1]=b=>_e(j)?j.value=b:null),placeholder:"Cari",style:{width:"180px"},"prefix-icon":e(tl),clearable:!0},null,8,["modelValue","prefix-icon"])],32),Ll,ae((k(),D(J,{stripe:"",data:e(u).data,onSortChange:e(y)},{default:a(()=>[l(x,{type:"index",index:e(u).from,label:"#"},null,8,["index"]),l(x,{prop:"name",label:"Nama",sortable:"custom"}),l(x,{prop:"role",label:"Level",sortable:"custom"},{default:a(({row:b})=>[c(I(b.role?"Admin":"Operator"),1)]),_:1}),l(x,{prop:"status",label:"Status",sortable:"custom",align:"center","header-align":"center",width:"100"},{default:a(({row:b})=>[l(p,{type:b.status?"success":"info",size:"small",style:{width:"100%"},effect:"dark"},{default:a(()=>[c(I(b.status?"Aktif":"Nonaktif"),1)]),_:2},1032,["type"])]),_:1}),l(x,{width:"60px",align:"center","header-align":"center"},{header:a(()=>[l(S,{link:"",onClick:e(n),icon:e(oe)},null,8,["onClick","icon"])]),default:a(({row:b})=>[l(M,null,{dropdown:a(()=>[l(T,null,{default:a(()=>[l(w,{icon:e(Ue),onClick:B(ee=>e(P)(b),["prevent"])},{default:a(()=>[c(" Edit ")]),_:2},1032,["icon","onClick"]),l(w,{icon:e(re),onClick:B(ee=>e(N)(b.id),["prevent"])},{default:a(()=>[c(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:a(()=>[V("span",Hl,[l(U,null,{default:a(()=>[l(e(ge))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange"])),[[Z,e(h)]]),Ol,e(u).total?(k(),D(Y,{key:0,small:"",background:"",layout:"total, sizes, prev, pager, next","page-size":e(t),"page-sizes":[10,25,50,100],total:e(u).total,onCurrentChange:e(_),onSizeChange:e(E)},null,8,["page-size","total","onCurrentChange","onSizeChange"])):ye("",!0),l(F,{modelValue:e(g),"onUpdate:modelValue":r[9]||(r[9]=b=>_e(g)?g.value=b:null),width:"500px",title:e(o).id?"EDIT USER":"TAMBAH USER","close-on-click-modal":!1},{footer:a(()=>[l(S,{icon:e(je),onClick:e($)},{default:a(()=>[c(" BATAL ")]),_:1},8,["icon","onClick"]),l(S,{icon:e(ce),type:"primary",onClick:r[8]||(r[8]=b=>e(z)())},{default:a(()=>[c(" SIMPAN ")]),_:1},8,["icon"])]),default:a(()=>[l(G,{"label-width":"160px","label-position":"left"},{default:a(()=>{var b,ee,de,me,v;return[l(O,{label:"Nama",error:(b=e(d).name)==null?void 0:b.join(", ")},{default:a(()=>[l(A,{placeholder:"Nama",modelValue:e(o).name,"onUpdate:modelValue":r[3]||(r[3]=L=>e(o).name=L)},null,8,["modelValue"])]),_:1},8,["error"]),l(O,{label:"Level",error:(ee=e(d).role)==null?void 0:ee.join(", ")},{default:a(()=>[l(m,{modelValue:e(o).role,"onUpdate:modelValue":r[4]||(r[4]=L=>e(o).role=L),placeholder:"Level",style:{width:"100%"}},{default:a(()=>[(k(),K(H,null,Q([{value:0,label:"Operator"},{value:1,label:"Admin"}],(L,Oe)=>l(X,{value:L.value,label:L.label,key:Oe},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(O,{label:"Password",error:(de=e(d).password)==null?void 0:de.join(", ")},{default:a(()=>[l(A,{type:"password",placeholder:"Password",modelValue:e(o).password,"onUpdate:modelValue":r[5]||(r[5]=L=>e(o).password=L)},null,8,["modelValue"])]),_:1},8,["error"]),l(O,{label:"Konfirmasi Password",error:(me=e(d).password)==null?void 0:me.join(", ")},{default:a(()=>[l(A,{type:"password",placeholder:"Konfirmasi Password",modelValue:e(o).password_confirmation,"onUpdate:modelValue":r[6]||(r[6]=L=>e(o).password_confirmation=L)},null,8,["modelValue"])]),_:1},8,["error"]),l(O,{label:"Status",error:(v=e(d).status)==null?void 0:v.join(", ")},{default:a(()=>[l(R,{"active-value":!0,"inactive-value":!1,modelValue:e(o).status,"onUpdate:modelValue":r[7]||(r[7]=L=>e(o).status=L),"active-color":"#13ce66"},null,8,["modelValue"]),l(p,{type:e(o).status?"success":"info",size:"small",style:{"margin-left":"10px"}},{default:a(()=>[c(I(e(o).status?"Aktif":"Nonaktif"),1)]),_:1},8,["type"])]),_:1},8,["error"])]}),_:1})]),_:1},8,["modelValue","title"])],64)}}},ma={__name:"setting",setup(C){const g=[{label:"Pengaturan Umum",component:kl},{label:"Jenis Kendaraan & Tarif",component:jl},{label:"User",component:Gl},{label:"Shift",component:Rl},{label:"Area Parkir",component:Kl},{label:"Backup & Restore",component:Bl}];return(d,o)=>{const t=Je,u=Ge;return k(),D(u,null,{default:a(()=>[(k(),K(H,null,Q(g,(h,j)=>l(t,{lazy:"",key:j,label:h.label.toUpperCase()},{default:a(()=>[(k(),D(He(h.component)))]),_:2},1032,["label"])),64))]),_:1})}}};export{ma as default};
