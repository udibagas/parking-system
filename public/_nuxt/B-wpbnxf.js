import{a as Le,E as Oe}from"./vi5jNeye.js";import{b as Ge,d as Ke,u as Je,_ as qe}from"./5FA1ifAs.js";import{B as We,C as Ye,D as Qe,F as Xe,y as Ze,b as re,s as ue,h as ae,f as de,E as ie,p as me,r as ne,e as we,d as te,m as pe,a as Se,G as el,l as ll}from"./o40-fCI4.js";import{E as _e,a as ce}from"./CXoCSxLa.js";import{c as al,b as oe,a as Ee,u as Ae}from"./Bnx0ryQB.js";import{a as nl,E as tl}from"./0qLDr9TJ.js";import{u as Re,v as xe,E as $e}from"./q6ePLL5X.js";import{u as fe}from"./Cbl8Oibf.js";import{d as Be,r as q,c as J,t as y,G as K,A as n,E as e,W as ol,N as He,H as be,v as z,I as H,J as W,T as rl,z as l,B as p,o as ge,x as T,L as X,y as R,F as L,V as Ce,K as je}from"./CVXJCMXh.js";import{E as ke,a as he,b as Ue}from"./yDEef-dC.js";import{E as ye,a as Ve,b as ve}from"./Db9tX7fh.js";import{E as Pe}from"./kkh3X4wb.js";import"./l0sNRNKZ.js";import{d as ze,c as il}from"./CY9tAmGA.js";import"./Cpj98o6Y.js";const sl=Ge({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:We,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Ke([String,Object]),default:()=>Ye},clearIcon:{type:Ke([String,Object]),default:()=>Qe},...al}),G=v=>{const b=(v||"").split(":");if(b.length>=2){let u=Number.parseInt(b[0],10);const o=Number.parseInt(b[1],10),t=v.toUpperCase();return t.includes("AM")&&u===12?u=0:t.includes("PM")&&u!==12&&(u+=12),{hours:u,minutes:o}}return null},Te=(v,b)=>{const u=G(v);if(!u)return-1;const o=G(b);if(!o)return-1;const t=u.minutes+u.hours*60,i=o.minutes+o.hours*60;return t===i?0:t>i?1:-1},Fe=v=>`${v}`.padStart(2,"0"),Q=v=>`${Fe(v.hours)}:${Fe(v.minutes)}`,ul=(v,b)=>{const u=G(v);if(!u)return"";const o=G(b);if(!o)return"";const t={hours:u.hours,minutes:u.minutes};return t.minutes+=o.minutes,t.hours+=o.hours,t.hours+=Math.floor(t.minutes/60),t.minutes=t.minutes%60,Q(t)},dl=Be({name:"ElTimeSelect"}),ml=Be({...dl,props:sl,emits:["change","blur","focus","update:modelValue"],setup(v,{expose:b}){const u=v;ze.extend(il);const{Option:o}=oe,t=Je("input"),i=q(),f=Xe(),{lang:U}=Ze(),d=J(()=>u.modelValue),S=J(()=>{const a=G(u.start);return a?Q(a):null}),g=J(()=>{const a=G(u.end);return a?Q(a):null}),M=J(()=>{const a=G(u.step);return a?Q(a):null}),D=J(()=>{const a=G(u.minTime||"");return a?Q(a):null}),$=J(()=>{const a=G(u.maxTime||"");return a?Q(a):null}),N=J(()=>{const a=[];if(u.start&&u.end&&u.step){let r=S.value,s;for(;r&&g.value&&Te(r,g.value)<=0;)s=ze(r,"HH:mm").locale(U.value).format(u.format),a.push({value:s,disabled:Te(r,D.value||"-1:-1")<=0||Te(r,$.value||"100:100")>=0}),r=ul(r,M.value)}return a});return b({blur:()=>{var a,r;(r=(a=i.value)==null?void 0:a.blur)==null||r.call(a)},focus:()=>{var a,r;(r=(a=i.value)==null?void 0:a.focus)==null||r.call(a)}}),(a,r)=>(y(),K(e(oe),{ref_key:"select",ref:i,"model-value":e(d),disabled:e(f),clearable:a.clearable,"clear-icon":a.clearIcon,size:a.size,effect:a.effect,placeholder:a.placeholder,"default-first-option":"",filterable:a.editable,"empty-values":a.emptyValues,"value-on-clear":a.valueOnClear,"onUpdate:modelValue":r[0]||(r[0]=s=>a.$emit("update:modelValue",s)),onChange:r[1]||(r[1]=s=>a.$emit("change",s)),onBlur:r[2]||(r[2]=s=>a.$emit("blur",s)),onFocus:r[3]||(r[3]=s=>a.$emit("focus",s))},{prefix:n(()=>[a.prefixIcon?(y(),K(e(re),{key:0,class:ol(e(t).e("prefix-icon"))},{default:n(()=>[(y(),K(He(a.prefixIcon)))]),_:1},8,["class"])):be("v-if",!0)]),default:n(()=>[(y(!0),z(H,null,W(e(N),s=>(y(),K(e(o),{key:s.value,label:s.value,value:s.value,disabled:s.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var se=qe(ml,[["__file","time-select.vue"]]);se.install=v=>{v.component(se.name,se)};const pl=se,_l=pl,cl={__name:"General",setup(v){const b=fe(),u=Re(),o=q({}),t=q(!1),i=rl({...b.setting}),f=async()=>{t.value=!0;let U="/api/setting";i.id&&(U+=`/${i.id}`);try{await u(U,{method:i.id?"PUT":"POST",body:i}),ae({message:"Data berhasil disimpan.",type:"success",showClose:!0}),b.getSetting()}catch(d){d.response.status==422?o.value=d.response._data.errors:o.value={}}t.value=!1};return(U,d)=>{const S=de,g=_e,M=Ee,D=oe,$=nl,N=tl,_=ce,E=ie;return y(),z("div",null,[l(_,{"label-position":"left","label-width":"250px"},{default:n(()=>[l(N,{gutter:20},{default:n(()=>[l($,{span:12},{default:n(()=>{var a,r,s,P,x,I;return[l(g,{label:"Nama Lokasi",error:(a=e(o).nama_lokasi)==null?void 0:a.join(", ")},{default:n(()=>[l(S,{placeholder:"Nama Lokasi",modelValue:e(i).nama_lokasi,"onUpdate:modelValue":d[0]||(d[0]=k=>e(i).nama_lokasi=k)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Alamat Lokasi",error:(r=e(o).alamat_lokasi)==null?void 0:r.join(", ")},{default:n(()=>[l(S,{placeholder:"Alamat Lokasi",type:"textarea",rows:"3",modelValue:e(i).alamat_lokasi,"onUpdate:modelValue":d[1]||(d[1]=k=>e(i).alamat_lokasi=k)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Info Tambahan Tiket",error:(s=e(o).info_tambahan_tiket)==null?void 0:s.join(", ")},{default:n(()=>[l(S,{placeholder:"Info Tambahan Tiket",type:"textarea",rows:"3",modelValue:e(i).info_tambahan_tiket,"onUpdate:modelValue":d[2]||(d[2]=k=>e(i).info_tambahan_tiket=k)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Plat Nomor Default",error:(P=e(o).plat_nomor_default)==null?void 0:P.join(", ")},{default:n(()=>[l(S,{placeholder:"Plat Nomor Default",modelValue:e(i).plat_nomor_default,"onUpdate:modelValue":d[3]||(d[3]=k=>e(i).plat_nomor_default=k)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Jumlah Kendaraan Per Kartu",error:(x=e(o).jml_kendaraan_per_kartu)==null?void 0:x.join(", ")},{default:n(()=>[l(S,{type:"number",placeholder:"Jumlah Kendaraan Per Kartu (0 untuk tak terbatas)",modelValue:e(i).jml_kendaraan_per_kartu,"onUpdate:modelValue":d[4]||(d[4]=k=>e(i).jml_kendaraan_per_kartu=k)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Orientasi Kamera",error:(I=e(o).orientasi_kamera)==null?void 0:I.join(", ")},{default:n(()=>[l(D,{placeholder:"Orientasi Kamera",modelValue:e(i).orientasi_kamera,"onUpdate:modelValue":d[5]||(d[5]=k=>e(i).orientasi_kamera=k),style:{width:"100%"}},{default:n(()=>[(y(),z(H,null,W(["LANDSCAPE","POTRAIT"],(k,c)=>l(M,{key:c,value:k,label:k},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"])]}),_:1}),l($,{span:12},{default:n(()=>{var a,r,s,P,x,I,k;return[l(g,{label:"Mode Transaksi Member",error:(a=e(o).must_checkout)==null?void 0:a.join(", ")},{default:n(()=>[l(D,{placeholder:"Mode Transaksi Member",modelValue:e(i).must_checkout,"onUpdate:modelValue":d[6]||(d[6]=c=>e(i).must_checkout=c),style:{width:"100%"}},{default:n(()=>[(y(),z(H,null,W(["Tidak harus check out","Harus check out"],(c,A)=>l(M,{key:A,value:A,label:c},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Mode Buka Gate Untuk Member",error:(r=e(o).member_auto_open)==null?void 0:r.join(", ")},{default:n(()=>[l(D,{placeholder:"Mode Buka Gate Untuk Member",modelValue:e(i).member_auto_open,"onUpdate:modelValue":d[7]||(d[7]=c=>e(i).member_auto_open=c),style:{width:"100%"}},{default:n(()=>[(y(),z(H,null,W(["Ketik Plat Nomor (Buka oleh operator)","Tempel Kartu (Otomatis)"],(c,A)=>l(M,{key:A,value:A,label:c},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Disable Plat Nomor di Pos Keluar",error:(s=e(o).disable_plat_nomor)==null?void 0:s.join(", ")},{default:n(()=>[l(D,{placeholder:"Disable Plat Nomor di Pos Keluar",modelValue:e(i).disable_plat_nomor,"onUpdate:modelValue":d[8]||(d[8]=c=>e(i).disable_plat_nomor=c),style:{width:"100%"}},{default:n(()=>[(y(),z(H,null,W(["Tidak","Ya"],(c,A)=>l(M,{key:A,value:!!A,label:c},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Hapus Snapshot dalam x hari",error:(P=e(o).hapus_snapshot_dalam_hari)==null?void 0:P.join(", ")},{default:n(()=>[l(S,{type:"number",placeholder:"Hapus Snapshot dalam x hari (0 untuk hapus manual)",modelValue:e(i).hapus_snapshot_dalam_hari,"onUpdate:modelValue":d[9]||(d[9]=c=>e(i).hapus_snapshot_dalam_hari=c)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Hapus Transaksi dalam x hari",error:(x=e(o).hapus_transaksi_dalam_hari)==null?void 0:x.join(", ")},{default:n(()=>[l(S,{type:"number",placeholder:"Hapus Transaksi dalam x hari",modelValue:e(i).hapus_transaksi_dalam_hari,"onUpdate:modelValue":d[10]||(d[10]=c=>e(i).hapus_transaksi_dalam_hari=c)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"Server Address",error:(I=e(o).server_address)==null?void 0:I.join(", ")},{default:n(()=>[l(S,{placeholder:"Server Address",modelValue:e(i).server_address,"onUpdate:modelValue":d[11]||(d[11]=c=>e(i).server_address=c)},null,8,["modelValue"])]),_:1},8,["error"]),l(g,{label:"ID Pelanggan",error:(k=e(o).id_pelanggan)==null?void 0:k.join(", ")},{default:n(()=>[l(S,{placeholder:"ID Pelanggan",modelValue:e(i).id_pelanggan,"onUpdate:modelValue":d[12]||(d[12]=c=>e(i).id_pelanggan=c)},null,8,["modelValue"])]),_:1},8,["error"])]}),_:1})]),_:1})]),_:1}),l(E,{style:{width:"100%"},type:"primary",onClick:f,icon:e(ue)},{default:n(()=>[p(" SIMPAN ")]),_:1},8,["icon"])])}}},fl={class:"text-right"},bl=T("br",null,null,-1),gl=T("br",null,null,-1),kl=T("br",null,null,-1),hl=T("br",null,null,-1),yl=T("br",null,null,-1),Vl={class:"el-dropdown-link"},vl=T("br",null,null,-1),Cl={class:"mb-2 flex"},Tl={class:"flex"},wl={__name:"JenisKendaraan",setup(v){const{getJenisKendaraanList:b}=fe(),{showForm:u,formErrors:o,formModel:t,pageSize:i,tableData:f,loading:U,currentChange:d,sizeChange:S,openForm:g,save:M,deleteData:D,closeForm:$,requestData:N,toRupiah:_}=Ae("/api/jenisKendaraan");return ge(()=>{N()}),(E,a)=>{const r=ie,s=ke,P=re,x=ye,I=Ve,k=ve,c=he,A=Ue,C=de,w=_e,O=Ee,Y=oe,Z=ce,ee=Pe,V=xe;return y(),z(H,null,[T("div",fl,[l(r,{size:"small",icon:e(me),onClick:a[0]||(a[0]=m=>e(g)()),type:"primary"},{default:n(()=>[p(" TAMBAH JENIS KENDARAAN ")]),_:1},8,["icon"])]),bl,X((y(),K(c,{data:e(f).data,stripe:""},{default:n(()=>[l(s,{type:"index",index:e(f).from,label:"#"},null,8,["index"]),l(s,{prop:"nama",label:"Nama","min-width":"100px"}),l(s,{prop:"group",label:"Group","min-width":"100px"}),l(s,{prop:"shortcut_key",label:"Shortcut",align:"center","header-align":"center","min-width":"100px"}),l(s,{label:"Mode Tarif",align:"center","header-align":"center","min-width":"120px"},{default:n(({row:m})=>[p(R(m.mode_tarif?"PROGRESIF":"FLAT"),1)]),_:1}),l(s,{label:"Mode Inap",align:"center","header-align":"center","min-width":"120px"},{default:n(({row:m})=>[p(R(m.mode_menginap?"LEWAT TENGAH MALAM":"24 JAM DARI CHECK IN"),1)]),_:1}),l(s,{prop:"tarif_flat",label:"Tarif Flat",align:"center","header-align":"center","min-width":"120px"},{default:n(({row:m})=>[p(R(e(_)(m.tarif_flat)),1)]),_:1}),l(s,{label:"Tarif Non Flat","min-width":"250px"},{default:n(({row:m})=>[p(" Tarif "+R(m.menit_pertama)+" menit pertama = "+R(e(_)(m.tarif_menit_pertama))+" ",1),gl,p(" Tarif "+R(m.menit_selanjutnya)+" menit selanjutnya = "+R(e(_)(m.tarif_menit_selanjutnya))+" ",1),kl,p(" Tarif maksimal per hari = "+R(e(_)(m.tarif_maksimum))+" ",1),hl,p(" Tarif menginap per hari = "+R(e(_)(m.tarif_menginap))+" ",1),yl]),_:1}),l(s,{prop:"denda_tiket_hilang",label:"Denda Tiket Hilang",align:"center","header-align":"center","min-width":"150px"},{default:n(({row:m})=>[p(R(e(_)(m.denda_tiket_hilang)),1)]),_:1}),l(s,{width:"60px",align:"center","header-align":"center"},{header:n(()=>[l(r,{link:"",onClick:e(N),icon:e(ne)},null,8,["onClick","icon"])]),default:n(({row:m})=>[l(k,null,{dropdown:n(()=>[l(I,null,{default:n(()=>[l(x,{icon:e(we),onClick:L(B=>e(g)(m),["prevent"])},{default:n(()=>[p(" Edit ")]),_:2},1032,["icon","onClick"]),l(x,{icon:e(te),onClick:L(B=>e(D)(m.id,e(b)),["prevent"])},{default:n(()=>[p(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:n(()=>[T("span",Vl,[l(P,null,{default:n(()=>[l(e(pe))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[V,e(U)]]),vl,e(f).total?(y(),K(A,{key:0,small:"",background:"",layout:"total, sizes, prev, pager, next","page-size":e(i),"page-sizes":[10,25,50,100],total:e(f).total,onCurrentChange:e(d),onSizeChange:e(S)},null,8,["page-size","total","onCurrentChange","onSizeChange"])):be("",!0),l(ee,{modelValue:e(u),"onUpdate:modelValue":a[15]||(a[15]=m=>je(u)?u.value=m:null),title:"JENIS KENDARAAN",width:"700px","close-on-click-modal":!1},{footer:n(()=>[l(r,{icon:e(Se),onClick:e($)},{default:n(()=>[p(" BATAL ")]),_:1},8,["icon","onClick"]),l(r,{icon:e(ue),type:"primary",onClick:a[14]||(a[14]=m=>e(M)(e(b)))},{default:n(()=>[p(" SIMPAN ")]),_:1},8,["icon"])]),default:n(()=>[l(Z,{"label-width":"200px","label-position":"left"},{default:n(()=>{var m,B,F,le,j,Me,De,Ne,Ie;return[l(w,{label:"Nama",error:(m=e(o).nama)==null?void 0:m.join(", ")},{default:n(()=>[l(C,{placeholder:"Nama",modelValue:e(t).nama,"onUpdate:modelValue":a[1]||(a[1]=h=>e(t).nama=h)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Group",error:(B=e(o).group)==null?void 0:B.join(", ")},{default:n(()=>[l(C,{placeholder:"Group",modelValue:e(t).group,"onUpdate:modelValue":a[2]||(a[2]=h=>e(t).group=h)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Shortcut Key",error:(F=e(o).shortcut_key)==null?void 0:F.join(", ")},{default:n(()=>[l(C,{maxlength:"1",placeholder:"Shortcut Key",modelValue:e(t).shortcut_key,"onUpdate:modelValue":a[3]||(a[3]=h=>e(t).shortcut_key=h)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Mode Inap",error:(le=e(o).mode_menginap)==null?void 0:le.join(", ")},{default:n(()=>[l(Y,{placeholder:"Mode Inap",modelValue:e(t).mode_menginap,"onUpdate:modelValue":a[4]||(a[4]=h=>e(t).mode_menginap=h),style:{width:"100%"}},{default:n(()=>[l(O,{value:0,label:"24 JAM DARI CHECK IN"}),l(O,{value:1,label:"LEWAT TENGAH MALAM"})]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Tarif menginap per hari (Rp)",error:(j=e(o).tarif_menginap)==null?void 0:j.join(", ")},{default:n(()=>[l(C,{type:"number",placeholder:"Tarif menginap per hari (Rp)",modelValue:e(t).tarif_menginap,"onUpdate:modelValue":a[5]||(a[5]=h=>e(t).tarif_menginap=h)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Denda Tiket Hilang (Rp)",error:(Me=e(o).denda_tiket_hilang)==null?void 0:Me.join(", ")},{default:n(()=>[l(C,{type:"number",step:500,placeholder:"Denda Tiket Hilang (Rp)",modelValue:e(t).denda_tiket_hilang,"onUpdate:modelValue":a[6]||(a[6]=h=>e(t).denda_tiket_hilang=h)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Mode Tarif",error:(De=e(o).mode_tarif)==null?void 0:De.join(", ")},{default:n(()=>[l(Y,{placeholder:"FLAT/PROGRESIF",modelValue:e(t).mode_tarif,"onUpdate:modelValue":a[7]||(a[7]=h=>e(t).mode_tarif=h),style:{width:"100%"}},{default:n(()=>[l(O,{value:0,label:"FLAT"}),l(O,{value:1,label:"PROGRESIF"})]),_:1},8,["modelValue"])]),_:1},8,["error"]),X(l(w,{label:"Tarif Flat (Rp)",error:(Ne=e(o).tarif_flat)==null?void 0:Ne.join(", ")},{default:n(()=>[l(C,{type:"number",step:500,placeholder:"Tarif Flat (Rp)",modelValue:e(t).tarif_flat,"onUpdate:modelValue":a[8]||(a[8]=h=>e(t).tarif_flat=h)},null,8,["modelValue"])]),_:1},8,["error"]),[[Ce,e(t).mode_tarif===0]]),X(l(w,{label:"Tarif maksimal per hari (Rp)",error:(Ie=e(o).tarif_maksimum)==null?void 0:Ie.join(", ")},{default:n(()=>[l(C,{type:"number",placeholder:"Tarif maksimal per hari (Rp)",modelValue:e(t).tarif_maksimum,"onUpdate:modelValue":a[9]||(a[9]=h=>e(t).tarif_maksimum=h)},null,8,["modelValue"])]),_:1},8,["error"]),[[Ce,e(t).mode_tarif===1]]),X(l(w,{label:"Tarif Progresif"},{default:n(()=>[T("div",Cl,[l(C,{type:"number",modelValue:e(t).menit_pertama,"onUpdate:modelValue":a[10]||(a[10]=h=>e(t).menit_pertama=h),style:{width:"250px"},class:"mr-2",placeholder:"Menit Pertama"},null,8,["modelValue"]),l(C,{type:"number",modelValue:e(t).tarif_menit_pertama,"onUpdate:modelValue":a[11]||(a[11]=h=>e(t).tarif_menit_pertama=h),placeholder:`Tarif ${e(t).menit_pertama} menit pertama (Rp)`},null,8,["modelValue","placeholder"])]),T("div",Tl,[l(C,{type:"number",modelValue:e(t).menit_selanjutnya,"onUpdate:modelValue":a[12]||(a[12]=h=>e(t).menit_selanjutnya=h),style:{width:"250px"},class:"mr-2",placeholder:"Menit Selanjutnya"},null,8,["modelValue"]),l(C,{type:"number",modelValue:e(t).tarif_menit_selanjutnya,"onUpdate:modelValue":a[13]||(a[13]=h=>e(t).tarif_menit_selanjutnya=h),placeholder:`Tarif ${e(t).menit_selanjutnya} menit selanjutnya (Rp)`},null,8,["modelValue","placeholder"])])]),_:1},512),[[Ce,e(t).mode_tarif===1]])]}),_:1})]),_:1},8,["modelValue"])],64)}}},Sl={class:"text-right"},El=T("br",null,null,-1),Al={class:"el-dropdown-link"},xl=T("br",null,null,-1),jl={__name:"Shift",setup(v){const{getShiftList:b}=fe(),{showForm:u,formErrors:o,formModel:t,pageSize:i,tableData:f,loading:U,currentChange:d,sizeChange:S,openForm:g,save:M,deleteData:D,closeForm:$,requestData:N,refreshData:_}=Ae("/api/shift");return ge(()=>{N()}),(E,a)=>{const r=ie,s=ke,P=re,x=ye,I=Ve,k=ve,c=he,A=Ue,C=de,w=_e,O=_l,Y=ce,Z=Pe,ee=xe;return y(),z(H,null,[T("div",Sl,[l(r,{size:"small",icon:e(me),onClick:a[0]||(a[0]=V=>e(g)()),type:"primary"},{default:n(()=>[p(" TAMBAH SHIFT ")]),_:1},8,["icon"])]),El,X((y(),K(c,{data:e(f).data,stripe:""},{default:n(()=>[l(s,{type:"index",index:e(f).from,label:"#"},null,8,["index"]),l(s,{prop:"nama",label:"Nama"}),l(s,{prop:"mulai",label:"Mulai"}),l(s,{prop:"selesai",label:"Selesai"}),l(s,{fixed:"right",width:"60px","header-align":"center",align:"center"},{header:n(()=>[l(r,{link:"",onClick:e(_),icon:e(ne)},null,8,["onClick","icon"])]),default:n(({row:V})=>[l(k,null,{dropdown:n(()=>[l(I,null,{default:n(()=>[l(x,{icon:e(we),onClick:L(m=>e(g)(V),["prevent"])},{default:n(()=>[p(" Edit ")]),_:2},1032,["icon","onClick"]),l(x,{icon:e(te),onClick:L(m=>e(D)(V.id,E.getJenisKendaraanList),["prevent"])},{default:n(()=>[p(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:n(()=>[T("span",Al,[l(P,null,{default:n(()=>[l(e(pe))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[ee,e(U)]]),xl,e(f).total?(y(),K(A,{key:0,small:"",background:"",layout:"total, sizes, prev, pager, next","page-size":e(i),"page-sizes":[10,25,50,100],total:e(f).total,onCurrentChange:e(d),onSizeChange:e(S)},null,8,["page-size","total","onCurrentChange","onSizeChange"])):be("",!0),l(Z,{modelValue:e(u),"onUpdate:modelValue":a[5]||(a[5]=V=>je(u)?u.value=V:null),title:"SHIFT",width:"450px","close-on-click-modal":!1},{footer:n(()=>[l(r,{icon:e(Se),onClick:e($)},{default:n(()=>[p(" BATAL ")]),_:1},8,["icon","onClick"]),l(r,{icon:e(ue),type:"primary",onClick:a[4]||(a[4]=V=>e(M)(e(b)))},{default:n(()=>[p(" SIMPAN ")]),_:1},8,["icon"])]),default:n(()=>[l(Y,{"label-width":"100px","label-position":"left"},{default:n(()=>{var V,m,B;return[l(w,{label:"Nama",error:(V=e(o).nama)==null?void 0:V.join(", ")},{default:n(()=>[l(C,{placeholder:"Nama",modelValue:e(t).nama,"onUpdate:modelValue":a[1]||(a[1]=F=>e(t).nama=F)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Mulai",error:(m=e(o).mulai)==null?void 0:m.join(", ")},{default:n(()=>[l(O,{style:{width:"100%"},modelValue:e(t).mulai,"onUpdate:modelValue":a[2]||(a[2]=F=>e(t).mulai=F),"picker-options":{start:"00:00",step:"00:30",end:"24:00"},placeholder:"Mulai"},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Selesai",error:(B=e(o).selesai)==null?void 0:B.join(", ")},{default:n(()=>[l(O,{style:{width:"100%"},modelValue:e(t).selesai,"onUpdate:modelValue":a[3]||(a[3]=F=>e(t).selesai=F),"picker-options":{start:"00:00",step:"00:30",end:"24:00"},placeholder:"Selesai"},null,8,["modelValue"])]),_:1},8,["error"])]}),_:1})]),_:1},8,["modelValue"])],64)}}},Ul={class:"text-right"},Pl=T("br",null,null,-1),Ml={class:"el-dropdown-link"},Dl=T("br",null,null,-1),Nl={__name:"AreaParkir",setup(v){const b=fe(),{showForm:u,formErrors:o,formModel:t,pageSize:i,tableData:f,loading:U,currentChange:d,sizeChange:S,openForm:g,save:M,deleteData:D,closeForm:$,requestData:N}=Ae("/api/areaParkir"),_=J(()=>b.jenisKendaraanList);return ge(()=>{N()}),(E,a)=>{const r=ie,s=ke,P=re,x=ye,I=Ve,k=ve,c=he,A=Ue,C=de,w=_e,O=Ee,Y=oe,Z=ce,ee=Pe;return y(),z("div",null,[T("div",Ul,[l(r,{size:"small",icon:e(me),onClick:a[0]||(a[0]=V=>e(g)()),type:"primary"},{default:n(()=>[p(" TAMBAH AREA PARKIR ")]),_:1},8,["icon"])]),Pl,l(c,{data:e(f).data,stripe:""},{default:n(()=>[l(s,{type:"index",index:e(f).from,label:"#"},null,8,["index"]),l(s,{"min-width":"100",label:"Nama",prop:"nama"}),l(s,{"min-width":"100",label:"Keterangan",prop:"keterangan"}),l(s,{"min-width":"100",label:"Jenis Kendaraan"},{default:n(({row:V})=>[p(R(V.jenis_kendaraan.join(", ")),1)]),_:1}),l(s,{"min-width":"100",label:"Kapasitas",prop:"kapasitas","header-align":"center",align:"center"}),l(s,{"min-width":"100",label:"Terisi",prop:"terisi","header-align":"center",align:"center"}),l(s,{fixed:"right",width:"60px",align:"center","header-align":"center"},{header:n(()=>[l(r,{link:"",onClick:e(N),icon:e(ne)},null,8,["onClick","icon"])]),default:n(({row:V})=>[l(k,null,{dropdown:n(()=>[l(I,null,{default:n(()=>[l(x,{icon:e(we),onClick:L(m=>e(g)(V),["prevent"])},{default:n(()=>[p(" Edit ")]),_:2},1032,["icon","onClick"]),l(x,{icon:e(te),onClick:L(m=>e(D)(V.id),["prevent"])},{default:n(()=>[p(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:n(()=>[T("span",Ml,[l(P,null,{default:n(()=>[l(e(pe))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"]),Dl,e(f).total?(y(),K(A,{key:0,small:"",background:"",layout:"total, sizes, prev, pager, next","page-size":e(i),"page-sizes":[10,25,50,100],total:e(f).total,onCurrentChange:e(d),onSizeChange:e(S)},null,8,["page-size","total","onCurrentChange","onSizeChange"])):be("",!0),l(ee,{modelValue:e(u),"onUpdate:modelValue":a[7]||(a[7]=V=>je(u)?u.value=V:null),title:"AREA PARKIR",width:"500px","close-on-click-modal":!1},{footer:n(()=>[l(r,{icon:e(Se),onClick:e($)},{default:n(()=>[p(" BATAL ")]),_:1},8,["icon","onClick"]),l(r,{icon:e(ue),type:"primary",onClick:a[6]||(a[6]=V=>e(M)())},{default:n(()=>[p(" SIMPAN ")]),_:1},8,["icon"])]),default:n(()=>[l(Z,{"label-width":"150px","label-position":"left"},{default:n(()=>{var V,m,B,F,le;return[l(w,{label:"Nama",error:(V=e(o).nama)==null?void 0:V.join(", ")},{default:n(()=>[l(C,{placeholder:"Nama",modelValue:e(t).nama,"onUpdate:modelValue":a[1]||(a[1]=j=>e(t).nama=j)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Keterangan",error:(m=e(o).keterangan)==null?void 0:m.join(", ")},{default:n(()=>[l(C,{placeholder:"Keterangan",modelValue:e(t).keterangan,"onUpdate:modelValue":a[2]||(a[2]=j=>e(t).keterangan=j)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Jenis Kendaraan",error:(B=e(o).jenis_kendaraan)==null?void 0:B.join(", ")},{default:n(()=>[l(Y,{modelValue:e(t).jenis_kendaraan,"onUpdate:modelValue":a[3]||(a[3]=j=>e(t).jenis_kendaraan=j),placeholder:"Jenis Kendaraan",style:{width:"100%"},multiple:""},{default:n(()=>[(y(!0),z(H,null,W(e(_),j=>(y(),K(O,{value:j.nama,label:j.nama,key:j.id},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Kapasitas",error:(F=e(o).kapasitas)==null?void 0:F.join(", ")},{default:n(()=>[l(C,{type:"number",placeholder:"Kapasitas",modelValue:e(t).kapasitas,"onUpdate:modelValue":a[4]||(a[4]=j=>e(t).kapasitas=j)},null,8,["modelValue"])]),_:1},8,["error"]),l(w,{label:"Terisi",error:(le=e(o).terisi)==null?void 0:le.join(", ")},{default:n(()=>[l(C,{type:"number",placeholder:"Terisi",modelValue:e(t).terisi,"onUpdate:modelValue":a[5]||(a[5]=j=>e(t).terisi=j)},null,8,["modelValue"])]),_:1},8,["error"])]}),_:1})]),_:1},8,["modelValue"])])}}},Il={class:"el-dropdown-link"},Kl={__name:"Backup",setup(v){const b=Re(),u=q([]),o=q(!1),t=q(!1),i=q([]);ge(()=>{f()});const f=()=>{o.value=!0,b("/api/backup").then(_=>{u.value=_}).finally(()=>{o.value=!1})},U=_=>{$e.confirm("Anda yakin akan menghapus file ini?","Konfirmasi",{type:"warning"}).then(()=>b("/api/backup",{method:"DELETE",params:{file:_}})).then(E=>{ae({message:E.message,type:"success",showClose:!0}),f()})},d=()=>{t.value=!0,b("/api/backup",{method:"POST"}).then(_=>{ae({message:_.message,type:"success",showClose:!0}),f()}).finally(()=>{t.value=!1})},S=_=>{$e.confirm("Anda yakin akan me-restore database?","Konfirmasi",{type:"warning"}).then(()=>(o.value=!0,b("/api/backup",{method:"PUT",body:{file:_}}))).then(E=>{ae({message:E.message,type:"success",showClose:!0}),f()}).finally(()=>{o.value=!1})},g=()=>{document.querySelector("#input-file").click()},M=_=>{var E=new FormData;E.append("file",_.target.files[0]),b("/api/backup",{method:"POST",body:E},{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{ae({message:a.message,type:"success",showClose:!0}),f()}).finally(()=>{o.value=!1,document.querySelector("#input-file").value=""})},D=_=>{i.value=_.map(E=>E.file)},$=()=>{U(i.value)},N=_=>{window.open(_,"_blank")};return(_,E)=>{const a=ie,r=ke,s=re,P=ye,x=Ve,I=ve,k=he,c=xe;return y(),z(H,null,[T("form",{class:"flex justify-content-end mb-3",inline:"",onSubmit:E[0]||(E[0]=L(()=>{},["prevent"]))},[l(a,{disabled:e(i).length==0,onClick:$,type:"danger",icon:e(te),size:"small",title:"Hapus File Backup"},{default:n(()=>[p(" HAPUS FILE BACKUP ")]),_:1},8,["disabled","icon"]),l(a,{onClick:g,type:"primary",class:"mr-2",icon:e(el),size:"small",title:"Upload File Backup"},{default:n(()=>[p(" UPLOAD FILE BACKUP ")]),_:1},8,["icon"]),T("input",{type:"file",style:{display:"none"},id:"input-file",onChange:M},null,32),l(a,{onClick:d,type:"primary",icon:e(me),size:"small",title:"Generate Backup",loading:e(t)},{default:n(()=>[p(" GENERATE BACKUP ")]),_:1},8,["icon","loading"])],32),X((y(),K(k,{data:e(u),stripe:"",height:"calc(100vh - 200px)",onSelectionChange:D},{default:n(()=>[l(r,{type:"selection",width:"55",align:"center","header-align":"center"}),l(r,{type:"index",label:"#"}),l(r,{prop:"tanggal",label:"Tanggal",width:"200"}),l(r,{prop:"file",label:"File"}),l(r,{prop:"size",label:"Ukuran",width:"100",align:"right","header-align":"right"}),l(r,{width:"60",align:"center","header-align":"center"},{header:n(()=>[l(a,{link:"",onClick:f,icon:e(ne)},null,8,["icon"])]),default:n(({row:A})=>[l(I,null,{dropdown:n(()=>[l(x,null,{default:n(()=>[l(P,{icon:e(ll),onClick:L(C=>N(A.url),["prevent"])},{default:n(()=>[p("Download")]),_:2},1032,["icon","onClick"]),l(P,{icon:e(ne),onClick:L(C=>S(A.file),["prevent"])},{default:n(()=>[p(" Restore ")]),_:2},1032,["icon","onClick"]),l(P,{icon:e(te),onClick:L(C=>U(A.file),["prevent"])},{default:n(()=>[p(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:n(()=>[T("span",Il,[l(s,null,{default:n(()=>[l(e(pe))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[c,e(o)]])],64)}}},Zl={__name:"setting",setup(v){const b=[{label:"Pengaturan Umum",component:cl},{label:"Jenis Kendaraan & Tarif",component:wl},{label:"Shift",component:jl},{label:"Area Parkir",component:Nl},{label:"Backup & Restore",component:Kl}];return(u,o)=>{const t=Oe,i=Le;return y(),K(i,null,{default:n(()=>[(y(),z(H,null,W(b,(f,U)=>l(t,{lazy:"",key:U,label:f.label.toUpperCase()},{default:n(()=>[(y(),K(He(f.component)))]),_:2},1032,["label"])),64))]),_:1})}}};export{Zl as default};
