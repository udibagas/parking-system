(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{415:function(t,e,o){"use strict";o.r(e);o(381),o(10);var n={props:["range"],watch:{range:function(t){this.requestData()}},data:function(){return{keyword:"",page:1,pageSize:10,tableData:{},sort:"updated_at",order:"descending",loading:!1,showSnapshot:!1,snapshots:[]}},methods:{sortChange:function(t){t.prop==this.sort&&t.order==this.order||(this.sort=t.prop,this.order=t.order,this.requestData())},requestData:function(){var t=this,e={page:this.page,keyword:this.keyword,pageSize:this.pageSize,sort:this.sort,order:this.order,dateRange:this.range};this.loading=!0,axios.get("/manualOpenLog",{params:e}).then((function(e){t.tableData=e.data})).catch((function(e){500==e.response.status&&t.$message({message:e.response.data.message,type:"error",showClose:!0})})).finally((function(){t.loading=!1}))}},mounted:function(){this.requestData()}},r=o(36),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-form",{staticClass:"text-right",attrs:{inline:""},nativeOn:{submit:function(t){return t.preventDefault(),function(){}.apply(null,arguments)}}},[o("el-form-item",[o("el-input",{attrs:{size:"small",placeholder:"Cari","prefix-icon":"el-icon-search",clearable:""},on:{change:function(e){t.keyword=e,t.requestData()}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData.data,stripe:"","default-sort":{prop:t.sort,order:t.order},height:"calc(100vh - 260px)"},on:{"row-dblclick":function(e,o,n){t.snapshots=e.snapshots,t.showSnapshot=!0},"sort-change":t.sortChange}},[o("el-table-column",{attrs:{prop:"created_at",label:"Tanggal",sortable:"custom","show-overflow-tooltip":"","min-width":"150px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"gate_out.nama",label:"Gate Out","show-overflow-tooltip":"","min-width":"150px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"user.name",label:"Operator","show-overflow-tooltip":"","min-width":"150px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"alasan",label:"Alasan",sortable:"custom","show-overflow-tooltip":"","min-width":"150px"}}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",width:"40px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-more"})]),t._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{icon:"el-icon-camera"},nativeOn:{click:function(o){return o.preventDefault(),function(){t.snapshots=e.row.snapshots,t.showSnapshot=!0}.apply(null,arguments)}}},[t._v("Lihat Snapshot")])],1)],1)]}}])},[o("template",{slot:"header"},[o("el-button",{attrs:{type:"text",icon:"el-icon-refresh"},on:{click:function(){t.page=1,t.keyword="",t.requestData()}}})],1)],2)],1),t._v(" "),o("el-pagination",{staticClass:"mt-3",attrs:{background:"",layout:"total, sizes, prev, pager, next","page-size":t.pageSize,"page-sizes":[10,25,50,100],total:t.tableData.total},on:{"current-change":function(p){t.page=p,t.requestData()},"size-change":function(s){t.pageSize=s,t.requestData()}}}),t._v(" "),o("el-dialog",{attrs:{center:"",top:"60px",width:"600px",visible:t.showSnapshot,title:"SNAPSHOT"},on:{"update:visible":function(e){t.showSnapshot=e}}},t._l(t.snapshots,(function(t,i){return o("el-image",{key:i,staticStyle:{width:"100%",height:"100%"},attrs:{src:t.url,fit:"cover"}},[o("div",{staticClass:"el-image__error",attrs:{slot:"error"},slot:"error"},[o("i",{staticClass:"el-icon-picture-outline"})])])})),1)],1)}),[],!1,null,null,null);e.default=component.exports},459:function(t,e,o){"use strict";o.r(e);var n=o(448),r=o(415),l={components:{ParkingTransaction:n.default,ManualOpenLog:r.default}},c=o(36),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-tabs",[o("el-tab-pane",{attrs:{label:"TRANSAKSI PARKIR"}},[o("ParkingTransaction")],1),t._v(" "),o("el-tab-pane",{attrs:{label:"BUKA MANUAL"}},[o("ManualOpenLog")],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);