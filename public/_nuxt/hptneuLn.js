import{w as F,Z as ge,af as x,ah as G,ai as X,_ as we,a1 as ke,aj as Ve,D as Ee,ak as Ce,$ as Se,a3 as Ie,k as V,q as Te,ab as Ne,p as Ae,l as Pe,r as ze,h as Be,i as De,m as Ue,c as $e,s as Fe,e as Le,b as Me,a as Ke,d as Oe}from"./Bet77Jwc.js";import{E as je,a as Re,b as He}from"./BBpyLzZ2.js";import{u as qe,b as We,c as Ze,a as xe,E as Ge}from"./BXKvQU2a.js";import{E as Xe,a as Ye,b as Je}from"./CfvtpPv6.js";import{a6 as q,d as se,c as y,r as W,a3 as te,o as re,t as i,v as w,x as k,E as e,T as _,K as Qe,M as c,A as o,Z as z,N as f,y as I,z as l,X as le,Y as ea,V as L,a4 as aa,an as oe,B as g,W as ne,F as ie,I as ta,H as la}from"./DNgYXo8m.js";import{b as oa,d as na,h as M,a as Z,u as ia,_ as sa,w as ra}from"./B9uGCCof.js";import{i as da}from"./Bye1kC-k.js";import{E as ua}from"./BrFFpLht.js";import{v as ca}from"./DSnAko_s.js";const pa=oa({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:da},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:F},activeActionIcon:{type:F},activeIcon:{type:F},inactiveIcon:{type:F},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:na(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...ge(["ariaLabel"])}),ma={[x]:u=>M(u)||q(u)||Z(u),[G]:u=>M(u)||q(u)||Z(u),[X]:u=>M(u)||q(u)||Z(u)},fa=["onClick"],va=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],_a=["aria-hidden"],ha=["aria-hidden"],ba=["aria-hidden"],de="ElSwitch",ya=se({name:de}),ga=se({...ya,props:pa,emits:ma,setup(u,{expose:T,emit:p}){const n=u,{formItem:E}=we(),N=ke(),s=ia("switch"),{inputId:A}=Ve(n,{formItemContext:E}),C=Ee(y(()=>n.loading)),B=W(n.modelValue!==!1),b=W(),K=W(),O=y(()=>[s.b(),s.m(N.value),s.is("disabled",C.value),s.is("checked",t.value)]),j=y(()=>[s.e("label"),s.em("label","left"),s.is("active",!t.value)]),R=y(()=>[s.e("label"),s.em("label","right"),s.is("active",t.value)]),H=y(()=>({width:Ce(n.width)}));te(()=>n.modelValue,()=>{B.value=!0});const P=y(()=>B.value?n.modelValue:!1),t=y(()=>P.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(P.value)||(p(x,n.inactiveValue),p(G,n.inactiveValue),p(X,n.inactiveValue)),te(t,a=>{var r;b.value.checked=a,n.validateEvent&&((r=E==null?void 0:E.validate)==null||r.call(E,"change").catch(D=>Se()))});const h=()=>{const a=t.value?n.inactiveValue:n.activeValue;p(x,a),p(G,a),p(X,a),aa(()=>{b.value.checked=t.value})},v=()=>{if(C.value)return;const{beforeChange:a}=n;if(!a){h();return}const r=a();[oe(r),M(r)].includes(!0)||Ne(de,"beforeChange must return type `Promise<boolean>` or `boolean`"),oe(r)?r.then(U=>{U&&h()}).catch(U=>{}):r&&h()},S=()=>{var a,r;(r=(a=b.value)==null?void 0:a.focus)==null||r.call(a)};return re(()=>{b.value.checked=t.value}),Ie({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},y(()=>!!n.label)),T({focus:S,checked:t}),(a,r)=>(i(),w("div",{class:_(e(O)),onClick:L(v,["prevent"])},[k("input",{id:e(A),ref_key:"input",ref:b,class:_(e(s).e("input")),type:"checkbox",role:"switch","aria-checked":e(t),"aria-disabled":e(C),"aria-label":a.label||a.ariaLabel,name:a.name,"true-value":a.activeValue,"false-value":a.inactiveValue,disabled:e(C),tabindex:a.tabindex,onChange:h,onKeydown:Qe(v,["enter"])},null,42,va),!a.inlinePrompt&&(a.inactiveIcon||a.inactiveText)?(i(),w("span",{key:0,class:_(e(j))},[a.inactiveIcon?(i(),c(e(V),{key:0},{default:o(()=>[(i(),c(z(a.inactiveIcon)))]),_:1})):f("v-if",!0),!a.inactiveIcon&&a.inactiveText?(i(),w("span",{key:1,"aria-hidden":e(t)},I(a.inactiveText),9,_a)):f("v-if",!0)],2)):f("v-if",!0),k("span",{ref_key:"core",ref:K,class:_(e(s).e("core")),style:ea(e(H))},[a.inlinePrompt?(i(),w("div",{key:0,class:_(e(s).e("inner"))},[a.activeIcon||a.inactiveIcon?(i(),c(e(V),{key:0,class:_(e(s).is("icon"))},{default:o(()=>[(i(),c(z(e(t)?a.activeIcon:a.inactiveIcon)))]),_:1},8,["class"])):a.activeText||a.inactiveText?(i(),w("span",{key:1,class:_(e(s).is("text")),"aria-hidden":!e(t)},I(e(t)?a.activeText:a.inactiveText),11,ha)):f("v-if",!0)],2)):f("v-if",!0),k("div",{class:_(e(s).e("action"))},[a.loading?(i(),c(e(V),{key:0,class:_(e(s).is("loading"))},{default:o(()=>[l(e(Te))]),_:1},8,["class"])):e(t)?le(a.$slots,"active-action",{key:1},()=>[a.activeActionIcon?(i(),c(e(V),{key:0},{default:o(()=>[(i(),c(z(a.activeActionIcon)))]),_:1})):f("v-if",!0)]):e(t)?f("v-if",!0):le(a.$slots,"inactive-action",{key:2},()=>[a.inactiveActionIcon?(i(),c(e(V),{key:0},{default:o(()=>[(i(),c(z(a.inactiveActionIcon)))]),_:1})):f("v-if",!0)])],2)],6),!a.inlinePrompt&&(a.activeIcon||a.activeText)?(i(),w("span",{key:1,class:_(e(R))},[a.activeIcon?(i(),c(e(V),{key:0},{default:o(()=>[(i(),c(z(a.activeIcon)))]),_:1})):f("v-if",!0),!a.activeIcon&&a.activeText?(i(),w("span",{key:1,"aria-hidden":!e(t)},I(a.activeText),9,ba)):f("v-if",!0)],2)):f("v-if",!0)],10,fa))}});var wa=sa(ga,[["__file","switch.vue"]]);const ka=ra(wa),Va={style:{display:"flex","justify-content":"space-between"}},Ea=k("div",{style:{"font-size":"1.2em","line-height":"41px"}},"KELOLA USER",-1),Ca=k("br",null,null,-1),Sa={class:"el-dropdown-link"},Ia=k("br",null,null,-1),Fa={__name:"user",setup(u){const{showForm:T,formErrors:p,formModel:n,pageSize:E,tableData:N,loading:s,keyword:A,currentChange:C,sizeChange:B,openForm:b,save:K,deleteData:O,closeForm:j,requestData:R,searchData:H}=qe("/api/user");return re(()=>{R()}),(P,t)=>{const h=Le,v=Me,S=Ke,a=Oe,r=je,D=Ze,U=V,Y=Xe,ue=Ye,ce=Je,pe=Re,me=He,fe=Ge,ve=xe,_e=ka,he=ua,be=We,J=ca;return i(),c(be,null,{default:o(()=>[k("div",Va,[Ea,l(a,{inline:"",class:"text-right",onSubmit:L(e(H),["prevent"])},{default:o(()=>[l(v,{style:{"margin-bottom":"0"}},{default:o(()=>[l(h,{size:"small",onClick:t[0]||(t[0]=d=>e(b)({role:0,password:""})),type:"primary",icon:e(Ae)},{default:o(()=>[g(" TAMBAH USER ")]),_:1},8,["icon"])]),_:1}),l(v,{style:{"margin-bottom":"0"}},{default:o(()=>[l(S,{size:"small",modelValue:e(A),"onUpdate:modelValue":t[1]||(t[1]=d=>ne(A)?A.value=d:null),placeholder:"Cari","prefix-icon":e(Pe),clearable:!0},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1},8,["onSubmit"])]),Ca,ie((i(),c(pe,{stripe:"",height:"calc(100vh - 240px)",data:e(N).data,onSortChange:P.sortChange},{default:o(()=>[l(r,{type:"index",index:e(N).from,label:"#"},null,8,["index"]),l(r,{prop:"name",label:"Nama",sortable:"custom"}),l(r,{prop:"role",label:"Level",sortable:"custom"},{default:o(({row:d})=>[g(I(d.role?"Admin":"Operator"),1)]),_:1}),l(r,{prop:"status",label:"Status",sortable:"custom",align:"center","header-align":"center",width:"100"},{default:o(({row:d})=>[l(D,{type:d.status?"success":"info",size:"mini",style:{width:"100%"},effect:"dark"},{default:o(()=>[g(I(d.status?"Aktif":"Nonaktif"),1)]),_:2},1032,["type"])]),_:1}),l(r,{width:"60px",align:"center","header-align":"center"},{header:o(()=>[l(h,{link:"",onClick:P.refreshData,icon:e(ze)},null,8,["onClick","icon"])]),default:o(({row:d})=>[l(ce,null,{dropdown:o(()=>[l(ue,null,{default:o(()=>[l(Y,{icon:e(Be),onClick:L($=>e(b)(d),["prevent"])},{default:o(()=>[g(" Edit ")]),_:2},1032,["icon","onClick"]),l(Y,{icon:e(De),onClick:L($=>e(O)(d.id),["prevent"])},{default:o(()=>[g(" Hapus ")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:o(()=>[k("span",Sa,[l(U,null,{default:o(()=>[l(e(Ue))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange"])),[[J,e(s)]]),Ia,l(me,{small:"",background:"",onCurrentChange:e(C),onSizeChange:e(B),layout:"total, sizes, prev, pager, next","page-size":e(E),"page-sizes":[10,25,50,100],total:e(N).total},null,8,["onCurrentChange","onSizeChange","page-size","total"]),ie((i(),c(he,{modelValue:e(T),"onUpdate:modelValue":t[8]||(t[8]=d=>ne(T)?T.value=d:null),title:e(n).id?"EDIT USER":"TAMBAH USER",width:"500px","close-on-click-modal":!1},{footer:o(()=>[l(h,{icon:e($e),onClick:e(j)},{default:o(()=>[g(" BATAL ")]),_:1},8,["icon","onClick"]),l(h,{icon:e(Fe),type:"primary",onClick:t[7]||(t[7]=d=>e(K)())},{default:o(()=>[g(" SIMPAN ")]),_:1},8,["icon"])]),default:o(()=>[l(a,{"label-width":"160px","label-position":"left"},{default:o(()=>{var d,$,Q,ee,ae;return[l(v,{label:"Nama",error:(d=e(p).name)==null?void 0:d.join(", ")},{default:o(()=>[l(S,{placeholder:"Nama",modelValue:e(n).name,"onUpdate:modelValue":t[2]||(t[2]=m=>e(n).name=m)},null,8,["modelValue"])]),_:1},8,["error"]),l(v,{label:"Level",error:($=e(p).role)==null?void 0:$.join(", ")},{default:o(()=>[l(ve,{modelValue:e(n).role,"onUpdate:modelValue":t[3]||(t[3]=m=>e(n).role=m),placeholder:"Level",style:{width:"100%"}},{default:o(()=>[(i(),w(la,null,ta([{value:0,label:"Operator"},{value:1,label:"Admin"}],(m,ye)=>l(fe,{value:m.value,label:m.label,key:ye},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["error"]),l(v,{label:"Password",error:(Q=e(p).password)==null?void 0:Q.join(", ")},{default:o(()=>[l(S,{type:"password",placeholder:"Password",modelValue:e(n).password,"onUpdate:modelValue":t[4]||(t[4]=m=>e(n).password=m)},null,8,["modelValue"])]),_:1},8,["error"]),l(v,{label:"Konfirmasi Password",error:(ee=e(p).password)==null?void 0:ee.join(", ")},{default:o(()=>[l(S,{type:"password",placeholder:"Konfirmasi Password",modelValue:e(n).password_confirmation,"onUpdate:modelValue":t[5]||(t[5]=m=>e(n).password_confirmation=m)},null,8,["modelValue"])]),_:1},8,["error"]),l(v,{label:"Status",error:(ae=e(p).status)==null?void 0:ae.join(", ")},{default:o(()=>[l(_e,{"active-value":!0,"inactive-value":!1,modelValue:e(n).status,"onUpdate:modelValue":t[6]||(t[6]=m=>e(n).status=m),"active-color":"#13ce66"},null,8,["modelValue"]),l(D,{type:e(n).status?"success":"info",size:"small",style:{"margin-left":"10px"}},{default:o(()=>[g(I(e(n).status?"Aktif":"Nonaktif"),1)]),_:1},8,["type"])]),_:1},8,["error"])]}),_:1})]),_:1},8,["modelValue","title"])),[[J,e(s)]])]),_:1})}}};export{Fa as default};
